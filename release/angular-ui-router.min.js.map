{"version":3,"file":null,"sources":["../node_modules/@uirouter/core/src/common/hof.ts","../node_modules/@uirouter/core/src/common/predicates.ts","../node_modules/@uirouter/core/src/common/common.ts","../node_modules/@uirouter/core/src/common/trace.ts","../node_modules/@uirouter/core/src/transition/hookRegistry.ts","../node_modules/@uirouter/core/src/transition/hookBuilder.ts","../node_modules/@uirouter/core/src/params/paramType.ts","../node_modules/@uirouter/core/src/params/param.ts","../node_modules/@uirouter/core/src/common/strings.ts","../node_modules/@uirouter/core/src/state/stateBuilder.ts","../node_modules/@uirouter/core/src/url/urlMatcher.ts","../node_modules/@uirouter/core/src/url/urlRouter.ts","../node_modules/@uirouter/core/src/hooks/coreResolvables.ts","../node_modules/@uirouter/core/src/hooks/onEnterExitRetain.ts","../node_modules/@uirouter/core/src/hooks/lazyLoad.ts","../node_modules/@uirouter/core/src/hooks/ignoredTransition.ts","../node_modules/@uirouter/core/src/hooks/invalidTransition.ts","../node_modules/@uirouter/core/src/vanilla/utils.ts","../node_modules/@uirouter/core/src/vanilla/plugins.ts","../src/statebuilders/views.ts","../src/templateFactory.ts","../src/services.ts","../src/directives/stateDirectives.ts","../src/stateFilters.ts","../src/directives/viewDirective.ts","../src/viewScroll.ts","../src/angular.ts","../node_modules/@uirouter/core/src/common/glob.ts","../node_modules/@uirouter/core/src/state/stateObject.ts","../node_modules/@uirouter/core/src/common/coreservices.ts","../node_modules/@uirouter/core/src/common/queue.ts","../node_modules/@uirouter/core/src/transition/rejectFactory.ts","../node_modules/@uirouter/core/src/transition/interface.ts","../node_modules/@uirouter/core/src/state/targetState.ts","../node_modules/@uirouter/core/src/transition/transitionHook.ts","../node_modules/@uirouter/core/src/path/pathNode.ts","../node_modules/@uirouter/core/src/path/pathFactory.ts","../node_modules/@uirouter/core/src/resolve/resolvable.ts","../node_modules/@uirouter/core/src/resolve/interface.ts","../node_modules/@uirouter/core/src/resolve/resolveContext.ts","../node_modules/@uirouter/core/src/transition/transition.ts","../node_modules/@uirouter/core/src/params/paramTypes.ts","../node_modules/@uirouter/core/src/params/stateParams.ts","../node_modules/@uirouter/core/src/state/stateMatcher.ts","../node_modules/@uirouter/core/src/state/stateQueueManager.ts","../node_modules/@uirouter/core/src/state/stateRegistry.ts","../node_modules/@uirouter/core/src/url/urlMatcherFactory.ts","../node_modules/@uirouter/core/src/url/urlRule.ts","../node_modules/@uirouter/core/src/view/view.ts","../node_modules/@uirouter/core/src/globals.ts","../node_modules/@uirouter/core/src/url/urlService.ts","../node_modules/@uirouter/core/src/router.ts","../node_modules/@uirouter/core/src/hooks/redirectTo.ts","../node_modules/@uirouter/core/src/hooks/resolve.ts","../node_modules/@uirouter/core/src/hooks/views.ts","../node_modules/@uirouter/core/src/hooks/updateGlobals.ts","../node_modules/@uirouter/core/src/hooks/url.ts","../node_modules/@uirouter/core/src/transition/transitionEventType.ts","../node_modules/@uirouter/core/src/transition/transitionService.ts","../node_modules/@uirouter/core/src/state/stateService.ts","../node_modules/@uirouter/core/src/vanilla/q.ts","../node_modules/@uirouter/core/src/vanilla/injector.ts","../node_modules/@uirouter/core/src/vanilla/baseLocationService.ts","../node_modules/@uirouter/core/src/vanilla/hashLocationService.ts","../node_modules/@uirouter/core/src/vanilla/memoryLocationService.ts","../node_modules/@uirouter/core/src/vanilla/pushStateLocationService.ts","../node_modules/@uirouter/core/src/vanilla/memoryLocationConfig.ts","../node_modules/@uirouter/core/src/vanilla/browserLocationConfig.ts","../node_modules/@uirouter/core/src/interface.ts","../src/stateProvider.ts","../src/statebuilders/onEnterExitRetain.ts","../src/locationServices.ts","../src/urlRouterProvider.ts","../src/index.ts"],"sourcesContent":[{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/common/hof.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/common/predicates.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/common/common.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/common/trace.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/transition/hookRegistry.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/transition/hookBuilder.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/params/paramType.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/params/param.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/common/strings.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/state/stateBuilder.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/url/urlMatcher.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/url/urlRouter.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/hooks/coreResolvables.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/hooks/onEnterExitRetain.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/hooks/lazyLoad.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/hooks/ignoredTransition.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/hooks/invalidTransition.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/vanilla/utils.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/vanilla/plugins.ts"},"/** @module ng1 */ /** */\nimport { ng as angular } from \"../angular\";\nimport {\n    StateObject, pick, forEach, tail, extend,\n    isArray, isInjectable, isDefined, isString, services, trace,\n    ViewConfig, ViewService, ViewConfigFactory, PathNode, ResolveContext, Resolvable, IInjectable\n} from \"@uirouter/core\";\nimport { Ng1ViewDeclaration } from \"../interface\";\nimport { TemplateFactory } from \"../templateFactory\";\nimport IInjectorService = angular.auto.IInjectorService;\n\nexport function getNg1ViewConfigFactory(): ViewConfigFactory {\n  let templateFactory: TemplateFactory = null;\n  return (path, view) => {\n    templateFactory = templateFactory || services.$injector.get(\"$templateFactory\");\n    return [new Ng1ViewConfig(path, view, templateFactory)];\n  };\n}\n\nconst hasAnyKey = (keys, obj) =>\n    keys.reduce((acc, key) => acc || isDefined(obj[key]), false);\n\n/**\n * This is a [[StateBuilder.builder]] function for angular1 `views`.\n *\n * When the [[StateBuilder]] builds a [[StateObject]] object from a raw [[StateDeclaration]], this builder\n * handles the `views` property with logic specific to @uirouter/angularjs (ng1).\n *\n * If no `views: {}` property exists on the [[StateDeclaration]], then it creates the `views` object\n * and applies the state-level configuration to a view named `$default`.\n */\nexport function ng1ViewsBuilder(state: StateObject) {\n  // Do not process root state\n  if (!state.parent) return {};\n\n  let tplKeys = ['templateProvider', 'templateUrl', 'template', 'notify', 'async'],\n      ctrlKeys = ['controller', 'controllerProvider', 'controllerAs', 'resolveAs'],\n      compKeys = ['component', 'bindings', 'componentProvider'],\n      nonCompKeys = tplKeys.concat(ctrlKeys),\n      allViewKeys = compKeys.concat(nonCompKeys);\n\n  // Do not allow a state to have both state-level props and also a `views: {}` property.\n  // A state without a `views: {}` property can declare properties for the `$default` view as properties of the state.\n  // However, the `$default` approach should not be mixed with a separate `views: ` block.\n  if (isDefined(state.views) && hasAnyKey(allViewKeys, state)) {\n    throw new Error(`State '${state.name}' has a 'views' object. ` +\n        `It cannot also have \"view properties\" at the state level.  ` +\n        `Move the following properties into a view (in the 'views' object): ` +\n        ` ${allViewKeys.filter(key => isDefined(state[key])).join(\", \")}`);\n  }\n\n  let views: { [key: string]: Ng1ViewDeclaration } = {},\n      viewsObject = state.views || { \"$default\": pick(state, allViewKeys) };\n\n  forEach(viewsObject, function (config: Ng1ViewDeclaration, name: string) {\n    // Account for views: { \"\": { template... } }\n    name = name || \"$default\";\n    // Account for views: { header: \"headerComponent\" }\n    if (isString(config)) config = { component: <string> config };\n\n    // Make a shallow copy of the config object\n    config = extend({}, config);\n\n    // Do not allow a view to mix props for component-style view with props for template/controller-style view\n    if (hasAnyKey(compKeys, config) && hasAnyKey(nonCompKeys, config)) {\n      throw new Error(`Cannot combine: ${compKeys.join(\"|\")} with: ${nonCompKeys.join(\"|\")} in stateview: '${name}@${state.name}'`);\n    }\n\n    config.resolveAs = config.resolveAs || '$resolve';\n    config.$type = \"ng1\";\n    config.$context = state;\n    config.$name = name;\n\n    let normalized = ViewService.normalizeUIViewTarget(config.$context, config.$name);\n    config.$uiViewName = normalized.uiViewName;\n    config.$uiViewContextAnchor = normalized.uiViewContextAnchor;\n\n    views[name] = config;\n  });\n  return views;\n}\n\nlet id = 0;\nexport class Ng1ViewConfig implements ViewConfig {\n  $id = id++;\n  loaded: boolean = false;\n  controller: Function; // actually IInjectable|string\n  template: string;\n  component: string;\n  locals: any; // TODO: delete me\n\n  constructor(public path: PathNode[], public viewDecl: Ng1ViewDeclaration, public factory: TemplateFactory) { }\n\n  load() {\n    let $q = services.$q;\n    let context = new ResolveContext(this.path);\n    let params = this.path.reduce((acc, node) => extend(acc, node.paramValues), {});\n\n    let promises: any = {\n      template: $q.when(this.factory.fromConfig(this.viewDecl, params, context)),\n      controller: $q.when(this.getController(context))\n    };\n\n    return $q.all(promises).then((results) => {\n      trace.traceViewServiceEvent(\"Loaded\", this);\n      this.controller = results.controller;\n      extend(this, results.template); // Either { template: \"tpl\" } or { component: \"cmpName\" }\n      return this;\n    });\n  }\n\n  getTemplate = (uiView, context: ResolveContext) =>\n    this.component ? this.factory.makeComponentTemplate(uiView, context, this.component, this.viewDecl.bindings) : this.template;\n\n  /**\n   * Gets the controller for a view configuration.\n   *\n   * @returns {Function|Promise.<Function>} Returns a controller, or a promise that resolves to a controller.\n   */\n  getController(context: ResolveContext): (IInjectable|string|Promise<IInjectable|string>) {\n    let provider = this.viewDecl.controllerProvider;\n    if (!isInjectable(provider)) return this.viewDecl.controller;\n    let deps = services.$injector.annotate(provider);\n    let providerFn = isArray(provider) ? tail(<any> provider) : provider;\n    let resolvable = new Resolvable(\"\", <any> providerFn, deps);\n    return resolvable.get(context);\n  }\n}\n","/** @module view */\n/** for typedoc */\nimport { ng as angular } from \"./angular\";\nimport { IAugmentedJQuery } from \"angular\";\nimport {\n  isArray, isDefined, isFunction, isObject, services, Obj, IInjectable, tail, kebobString, unnestR, ResolveContext,\n  Resolvable, RawParams\n} from \"@uirouter/core\";\nimport { Ng1ViewDeclaration, TemplateFactoryProvider } from \"./interface\";\n\n/**\n * Service which manages loading of templates from a ViewConfig.\n */\nexport class TemplateFactory implements TemplateFactoryProvider {\n  /** @hidden */ private _useHttp = angular.version.minor < 3;\n  /** @hidden */ private $templateRequest;\n  /** @hidden */ private $templateCache;\n  /** @hidden */ private $http;\n\n  /** @hidden */ $get = ['$http', '$templateCache', '$injector', ($http, $templateCache, $injector) => {\n    this.$templateRequest = $injector.has && $injector.has('$templateRequest') && $injector.get('$templateRequest');\n    this.$http = $http;\n    this.$templateCache = $templateCache;\n    return this;\n  }];\n\n  /** @hidden */\n  useHttpService(value: boolean) {\n    this._useHttp = value;\n  };\n\n  /**\n   * Creates a template from a configuration object.\n   *\n   * @param config Configuration object for which to load a template.\n   * The following properties are search in the specified order, and the first one\n   * that is defined is used to create the template:\n   *\n   * @param params  Parameters to pass to the template function.\n   * @param context The resolve context associated with the template's view\n   *\n   * @return {string|object}  The template html as a string, or a promise for\n   * that string,or `null` if no template is configured.\n   */\n  fromConfig(config: Ng1ViewDeclaration, params: any, context: ResolveContext) {\n    const defaultTemplate = \"<ui-view></ui-view>\";\n\n    const asTemplate = (result) => services.$q.when(result).then(str => ({ template: str }));\n    const asComponent = (result) => services.$q.when(result).then(str => ({ component: str }));\n\n    return (\n        isDefined(config.template) ? asTemplate(this.fromString(config.template, params)) :\n            isDefined(config.templateUrl) ? asTemplate(this.fromUrl(config.templateUrl, params)) :\n                isDefined(config.templateProvider) ? asTemplate(this.fromProvider(config.templateProvider, params, context)) :\n                    isDefined(config.component) ? asComponent(config.component) :\n                        isDefined(config.componentProvider) ? asComponent(this.fromComponentProvider(config.componentProvider, params, context)) :\n                            asTemplate(defaultTemplate)\n    );\n  };\n\n  /**\n   * Creates a template from a string or a function returning a string.\n   *\n   * @param template html template as a string or function that returns an html template as a string.\n   * @param params Parameters to pass to the template function.\n   *\n   * @return {string|object} The template html as a string, or a promise for that\n   * string.\n   */\n  fromString(template: (string | Function), params?: RawParams) {\n    return isFunction(template) ? (<any> template)(params) : template;\n  };\n\n  /**\n   * Loads a template from the a URL via `$http` and `$templateCache`.\n   *\n   * @param {string|Function} url url of the template to load, or a function\n   * that returns a url.\n   * @param {Object} params Parameters to pass to the url function.\n   * @return {string|Promise.<string>} The template html as a string, or a promise\n   * for that string.\n   */\n  fromUrl(url: (string | Function), params: any) {\n    if (isFunction(url)) url = (<any> url)(params);\n    if (url == null) return null;\n\n    if (this._useHttp) {\n      return this.$http.get(url, { cache: this.$templateCache, headers: { Accept: 'text/html' } })\n          .then(function (response) {\n            return response.data;\n          });\n    }\n\n    return this.$templateRequest(url);\n  };\n\n  /**\n   * Creates a template by invoking an injectable provider function.\n   *\n   * @param provider Function to invoke via `locals`\n   * @param {Function} injectFn a function used to invoke the template provider\n   * @return {string|Promise.<string>} The template html as a string, or a promise\n   * for that string.\n   */\n  fromProvider(provider: IInjectable, params: any, context: ResolveContext) {\n    let deps = services.$injector.annotate(provider);\n    let providerFn = isArray(provider) ? tail(<any[]> provider) : provider;\n    let resolvable = new Resolvable(\"\", <Function> providerFn, deps);\n    return resolvable.get(context);\n  };\n\n  /**\n   * Creates a component's template by invoking an injectable provider function.\n   *\n   * @param provider Function to invoke via `locals`\n   * @param {Function} injectFn a function used to invoke the template provider\n   * @return {string} The template html as a string: \"<component-name input1='::$resolve.foo'></component-name>\".\n   */\n  fromComponentProvider(provider: IInjectable, params: any, context: ResolveContext) {\n    let deps = services.$injector.annotate(provider);\n    let providerFn = isArray(provider) ? tail(<any[]> provider) : provider;\n    let resolvable = new Resolvable(\"\", <Function> providerFn, deps);\n    return resolvable.get(context);\n  };\n\n  /**\n   * Creates a template from a component's name\n   *\n   * This implements route-to-component.\n   * It works by retrieving the component (directive) metadata from the injector.\n   * It analyses the component's bindings, then constructs a template that instantiates the component.\n   * The template wires input and output bindings to resolves or from the parent component.\n   *\n   * @param uiView {object} The parent ui-view (for binding outputs to callbacks)\n   * @param context The ResolveContext (for binding outputs to callbacks returned from resolves)\n   * @param component {string} Component's name in camel case.\n   * @param bindings An object defining the component's bindings: {foo: '<'}\n   * @return {string} The template as a string: \"<component-name input1='::$resolve.foo'></component-name>\".\n   */\n  makeComponentTemplate(uiView: IAugmentedJQuery, context: ResolveContext, component: string, bindings?: any) {\n    bindings = bindings || {};\n\n    // Bind once prefix\n    const prefix = angular.version.minor >= 3 ? \"::\" : \"\";\n    // Convert to kebob name. Add x- prefix if the string starts with `x-` or `data-`\n    const kebob = (camelCase: string) => {\n      const kebobed = kebobString(camelCase);\n      return /^(x|data)-/.exec(kebobed) ? `x-${kebobed}` : kebobed;\n    };\n\n\n    const attributeTpl = (input: BindingTuple) => {\n      let { name, type } = input;\n      let attrName = kebob(name);\n      // If the ui-view has an attribute which matches a binding on the routed component\n      // then pass that attribute through to the routed component template.\n      // Prefer ui-view wired mappings to resolve data, unless the resolve was explicitly bound using `bindings:`\n      if (uiView.attr(attrName) && !bindings[name])\n        return `${attrName}='${uiView.attr(attrName)}'`;\n\n      let resolveName = bindings[name] || name;\n      // Pre-evaluate the expression for \"@\" bindings by enclosing in {{ }}\n      // some-attr=\"{{ ::$resolve.someResolveName }}\"\n      if (type === '@')\n        return `${attrName}='{{${prefix}$resolve.${resolveName}}}'`;\n\n      // Wire \"&\" callbacks to resolves that return a callback function\n      // Get the result of the resolve (should be a function) and annotate it to get its arguments.\n      // some-attr=\"$resolve.someResolveResultName(foo, bar)\"\n      if (type === '&') {\n        let res = context.getResolvable(resolveName);\n        let fn = res && res.data;\n        let args = fn && services.$injector.annotate(fn) || [];\n        // account for array style injection, i.e., ['foo', function(foo) {}]\n        let arrayIdxStr = isArray(fn) ? `[${fn.length - 1}]` : '';\n        return `${attrName}='$resolve.${resolveName}${arrayIdxStr}(${args.join(\",\")})'`;\n      }\n\n      // some-attr=\"::$resolve.someResolveName\"\n      return `${attrName}='${prefix}$resolve.${resolveName}'`;\n    };\n\n    let attrs = getComponentBindings(component).map(attributeTpl).join(\" \");\n    let kebobName = kebob(component);\n    return `<${kebobName} ${attrs}></${kebobName}>`;\n  };\n}\n\n// Gets all the directive(s)' inputs ('@', '=', and '<') and outputs ('&')\nfunction getComponentBindings(name: string) {\n  let cmpDefs = <any[]> services.$injector.get(name + \"Directive\"); // could be multiple\n  if (!cmpDefs || !cmpDefs.length) throw new Error(`Unable to find component named '${name}'`);\n  return cmpDefs.map(getBindings).reduce(unnestR, []);\n}\n\n// Given a directive definition, find its object input attributes\n// Use different properties, depending on the type of directive (component, bindToController, normal)\nconst getBindings = (def: any) => {\n  if (isObject(def.bindToController)) return scopeBindings(def.bindToController);\n  return scopeBindings(def.scope);\n};\n\ninterface BindingTuple {\n  name: string;\n  type: string;\n}\n\n// for ng 1.2 style, process the scope: { input: \"=foo\" }\n// for ng 1.3 through ng 1.5, process the component's bindToController: { input: \"=foo\" } object\nconst scopeBindings = (bindingsObj: Obj) => Object.keys(bindingsObj || {})\n    // [ 'input', [ '=foo', '=', 'foo' ] ]\n    .map(key => [key, /^([=<@&])[?]?(.*)/.exec(bindingsObj[key])])\n    // skip malformed values\n    .filter(tuple => isDefined(tuple) && isArray(tuple[1]))\n    // { name: ('foo' || 'input'), type: '=' }\n    .map(tuple => ({ name: tuple[1][2] || tuple[0], type: tuple[1][1] } as BindingTuple));\n\n","/**\n * # Angular 1 types\n *\n * UI-Router core provides various Typescript types which you can use for code completion and validating parameter values, etc.\n * The customizations to the core types for Angular UI-Router are documented here.\n *\n * The optional [[$resolve]] service is also documented here.\n *\n * @module ng1\n * @preferred\n */\n/** for typedoc */\nimport { ng as angular } from \"./angular\";\nimport {\n  IRootScopeService, IQService, ILocationService, ILocationProvider, IHttpService, ITemplateCacheService\n} from \"angular\";\nimport {\n  services, applyPairs, isString, trace, extend, UIRouter, StateService, UrlRouter, UrlMatcherFactory, ResolveContext,\n  unnestR, TypedMap\n} from \"@uirouter/core\";\nimport { ng1ViewsBuilder, getNg1ViewConfigFactory } from \"./statebuilders/views\";\nimport { TemplateFactory } from \"./templateFactory\";\nimport { StateProvider } from \"./stateProvider\";\nimport { getStateHookBuilder } from \"./statebuilders/onEnterExitRetain\";\nimport { Ng1LocationServices } from \"./locationServices\";\nimport { UrlRouterProvider } from \"./urlRouterProvider\";\nimport IInjectorService = angular.auto.IInjectorService; // tslint:disable-line\n\nangular.module(\"ui.router.angular1\", []);\nlet mod_init  = angular.module('ui.router.init',   []);\nlet mod_util  = angular.module('ui.router.util',   ['ng', 'ui.router.init']);\nlet mod_rtr   = angular.module('ui.router.router', ['ui.router.util']);\nlet mod_state = angular.module('ui.router.state',  ['ui.router.router', 'ui.router.util', 'ui.router.angular1']);\nlet mod_main  = angular.module('ui.router',        ['ui.router.init', 'ui.router.state', 'ui.router.angular1']);\nlet mod_cmpt  = angular.module('ui.router.compat', ['ui.router']); // tslint:disable-line\n\ndeclare module '@uirouter/core/lib/router' {\n  interface UIRouter {\n    /** @hidden */\n    stateProvider: StateProvider;\n    /** @hidden */\n    urlRouterProvider: UrlRouterProvider;\n  }\n}\n\nlet router: UIRouter = null;\n\n$uiRouter.$inject = ['$locationProvider'];\n/** This angular 1 provider instantiates a Router and exposes its services via the angular injector */\nfunction $uiRouter($locationProvider: ILocationProvider) {\n\n  // Create a new instance of the Router when the $uiRouterProvider is initialized\n  router = this.router = new UIRouter();\n  router.stateProvider = new StateProvider(router.stateRegistry, router.stateService);\n\n  // Apply ng1 specific StateBuilder code for `views`, `resolve`, and `onExit/Retain/Enter` properties\n  router.stateRegistry.decorator(\"views\",    ng1ViewsBuilder);\n  router.stateRegistry.decorator(\"onExit\",   getStateHookBuilder(\"onExit\"));\n  router.stateRegistry.decorator(\"onRetain\", getStateHookBuilder(\"onRetain\"));\n  router.stateRegistry.decorator(\"onEnter\",  getStateHookBuilder(\"onEnter\"));\n\n  router.viewService._pluginapi._viewConfigFactory('ng1', getNg1ViewConfigFactory());\n\n  let ng1LocationService = router.locationService = router.locationConfig = new Ng1LocationServices($locationProvider);\n\n  Ng1LocationServices.monkeyPatchPathParameterType(router);\n\n  // backwards compat: also expose router instance as $uiRouterProvider.router\n  router['router'] = router;\n  router['$get'] = $get;\n  $get.$inject = ['$location', '$browser', '$sniffer', '$rootScope', '$http', '$templateCache'];\n  function $get($location: ILocationService, $browser: any, $sniffer: any, $rootScope: ng.IScope, $http: IHttpService, $templateCache: ITemplateCacheService) {\n    ng1LocationService._runtimeServices($rootScope, $location, $sniffer, $browser);\n    delete router['router'];\n    delete router['$get'];\n    return router;\n  }\n  return router;\n}\n\nconst getProviderFor = (serviceName) => [ '$uiRouterProvider', ($urp) => {\n  let service = $urp.router[serviceName];\n  service[\"$get\"] = () => service;\n  return service;\n}];\n\n// This effectively calls $get() on `$uiRouterProvider` to trigger init (when ng enters runtime)\nrunBlock.$inject = ['$injector', '$q', '$uiRouter'];\nfunction runBlock($injector: IInjectorService, $q: IQService, $uiRouter: UIRouter) {\n  services.$injector = $injector;\n  services.$q = <any> $q;\n\n  // The $injector is now available.\n  // Find any resolvables that had dependency annotation deferred\n  $uiRouter.stateRegistry.get()\n      .map(x => x.$$state().resolvables)\n      .reduce(unnestR, [])\n      .filter(x => x.deps === \"deferred\")\n      .forEach(resolvable => resolvable.deps = $injector.annotate(resolvable.resolveFn));\n}\n\n// $urlRouter service and $urlRouterProvider\nconst getUrlRouterProvider = (uiRouter: UIRouter) =>\n  uiRouter.urlRouterProvider = new UrlRouterProvider(uiRouter);\n\n// $state service and $stateProvider\n// $urlRouter service and $urlRouterProvider\nconst getStateProvider = () =>\n    extend(router.stateProvider, { $get: () => router.stateService });\n\nwatchDigests.$inject = ['$rootScope'];\nexport function watchDigests($rootScope: IRootScopeService) {\n  $rootScope.$watch(function() { trace.approximateDigests++; });\n}\n\nmod_init .provider(\"$uiRouter\",          <any> $uiRouter);\nmod_rtr  .provider('$urlRouter',         ['$uiRouterProvider', getUrlRouterProvider]);\nmod_util .provider('$urlService',        getProviderFor('urlService'));\nmod_util .provider('$urlMatcherFactory', ['$uiRouterProvider', () => router.urlMatcherFactory]);\nmod_util .provider('$templateFactory',   () => new TemplateFactory());\nmod_state.provider('$stateRegistry',     getProviderFor('stateRegistry'));\nmod_state.provider('$uiRouterGlobals',   getProviderFor('globals'));\nmod_state.provider('$transitions',       getProviderFor('transitionService'));\nmod_state.provider('$state',             ['$uiRouterProvider', getStateProvider]);\n\nmod_state.factory ('$stateParams',       ['$uiRouter', ($uiRouter: UIRouter) => $uiRouter.globals.params]);\nmod_main .factory ('$view',              () => router.viewService);\nmod_main .service (\"$trace\",             () => trace);\n\nmod_main .run     (watchDigests);\nmod_util .run     (['$urlMatcherFactory', function ($urlMatcherFactory: UrlMatcherFactory) { }]);\nmod_state.run     (['$state', function ($state: StateService) { }]);\nmod_rtr  .run     (['$urlRouter', function ($urlRouter: UrlRouter) { }]);\nmod_init .run     (runBlock);\n\n/** @hidden TODO: find a place to move this */\nexport const getLocals = (ctx: ResolveContext): TypedMap<any> => {\n  let tokens = ctx.getTokens().filter(isString);\n\n  let tuples = tokens .map(key => {\n    let resolvable = ctx.getResolvable(key);\n    let waitPolicy = ctx.getPolicy(resolvable).async;\n    return [ key, waitPolicy === 'NOWAIT' ? resolvable.promise : resolvable.data ];\n  });\n\n  return tuples.reduce(applyPairs, {});\n};\n\n","/**\n * # Angular 1 Directives\n *\n * These are the directives included in UI-Router for Angular 1.\n * These directives are used in templates to create viewports and link/navigate to states.\n *\n * @ng1api\n * @preferred\n * @module directives\n */ /** for typedoc */\nimport { ng as angular } from \"../angular\";\nimport { IAugmentedJQuery, ITimeoutService, IScope, IInterpolateService } from \"angular\";\n\nimport {\n    Obj, extend, forEach, tail, isString, isObject, isArray, parse, noop, unnestR, identity, uniqR, inArray, removeFrom,\n    RawParams, PathNode, StateOrName, StateService, StateDeclaration, UIRouter\n} from \"@uirouter/core\";\nimport { UIViewData } from \"./viewDirective\";\n\n/** @hidden Used for typedoc */\nexport interface ng1_directive {}\n\n/** @hidden */\nfunction parseStateRef(ref: string) {\n  let paramsOnly = ref.match(/^\\s*({[^}]*})\\s*$/), parsed;\n  if (paramsOnly) ref = '(' + paramsOnly[1] + ')';\n\n  parsed = ref.replace(/\\n/g, \" \").match(/^\\s*([^(]*?)\\s*(\\((.*)\\))?\\s*$/);\n  if (!parsed || parsed.length !== 4) throw new Error(\"Invalid state ref '\" + ref + \"'\");\n  return { state: parsed[1] || null, paramExpr: parsed[3] || null };\n}\n\n/** @hidden */\nfunction stateContext(el: IAugmentedJQuery) {\n  let $uiView: UIViewData = (el.parent() as IAugmentedJQuery).inheritedData('$uiView');\n  let path: PathNode[] = parse('$cfg.path')($uiView);\n  return path ? tail(path).state.name : undefined;\n}\n\n/** @hidden */\nfunction processedDef($state: StateService, $element: IAugmentedJQuery, def: Def): Def {\n  let uiState = def.uiState || $state.current.name;\n  let uiStateOpts = extend(defaultOpts($element, $state), def.uiStateOpts || {});\n  let href = $state.href(uiState, def.uiStateParams, uiStateOpts);\n  return { uiState, uiStateParams: def.uiStateParams, uiStateOpts, href };\n}\n\n/** @hidden */\ninterface TypeInfo {\n  attr: string;\n  isAnchor: boolean;\n  clickable: boolean;\n}\n\n/** @hidden */\nfunction getTypeInfo(el: IAugmentedJQuery): TypeInfo {\n  // SVGAElement does not use the href attribute, but rather the 'xlinkHref' attribute.\n  var isSvg = Object.prototype.toString.call(el.prop('href')) === '[object SVGAnimatedString]';\n  var isForm = el[0].nodeName === \"FORM\";\n\n  return {\n    attr: isForm ? \"action\" : (isSvg ? 'xlink:href' : 'href'),\n    isAnchor: el.prop(\"tagName\").toUpperCase() === \"A\",\n    clickable: !isForm\n  };\n}\n\n/** @hidden */\nfunction clickHook(el: IAugmentedJQuery, $state: StateService, $timeout: ITimeoutService, type: TypeInfo, getDef: () => Def) {\n  return function (e: JQueryMouseEventObject) {\n    var button = e.which || e.button, target = getDef();\n\n    if (!(button > 1 || e.ctrlKey || e.metaKey || e.shiftKey || el.attr('target'))) {\n      // HACK: This is to allow ng-clicks to be processed before the transition is initiated:\n      var transition = $timeout(function () {\n        $state.go(target.uiState, target.uiStateParams, target.uiStateOpts);\n      });\n      e.preventDefault();\n\n      // if the state has no URL, ignore one preventDefault from the <a> directive.\n      var ignorePreventDefaultCount = type.isAnchor && !target.href ? 1 : 0;\n\n      e.preventDefault = function () {\n        if (ignorePreventDefaultCount-- <= 0) $timeout.cancel(transition);\n      };\n    }\n  };\n}\n\n/** @hidden */\nfunction defaultOpts(el: IAugmentedJQuery, $state: StateService) {\n  return {\n    relative: stateContext(el) || $state.$current,\n    inherit: true,\n    source: \"sref\"\n  };\n}\n\n/** @hidden */\nfunction bindEvents(element: IAugmentedJQuery, scope: IScope, hookFn: (e: JQueryMouseEventObject) => void, uiStateOpts: any): void {\n  let events;\n\n  if (uiStateOpts) {\n    events = uiStateOpts.events;\n  }\n\n  if (!isArray(events)) {\n    events = ['click'];\n  }\n\n  let on = element.on ? 'on' : 'bind';\n  for (let event of events) {\n    element[on](event, hookFn);\n  }\n\n  scope.$on('$destroy', function() {\n    let off = element.off ? 'off' : 'unbind';\n    for (let event of events) {\n      element[off](event, hookFn);\n    }\n  });\n}\n\n/**\n * `ui-sref`: A directive for linking to a state\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * ### Linked State\n * The attribute value of the `ui-sref` is the name of the state to link to.\n *\n * #### Example:\n * This will activate the `home` state when the link is clicked.\n * ```html\n * <a ui-sref=\"home\">Home</a>\n * ```\n *\n * ### Relative Links\n * You can also use relative state paths within `ui-sref`, just like a relative path passed to `$state.go()` ([[StateService.go]]).\n * You just need to be aware that the path is relative to the state that *created* the link.\n * This allows a state to create a relative `ui-sref` which always targets the same destination.\n *\n * #### Example:\n * Both these links are relative to the parent state, even when a child state is currently active.\n * ```html\n * <a ui-sref=\".child1\">child 1 state</a>\n * <a ui-sref=\".child2\">child 2 state</a>\n * ```\n *\n * This link activates the parent state.\n * ```html\n * <a ui-sref=\"^\">Return</a>\n * ```\n *\n * ### hrefs\n * If the linked state has a URL, the directive will automatically generate and\n * update the `href` attribute (using the [[StateService.href]]  method).\n *\n * #### Example:\n * Assuming the `users` state has a url of `/users/`\n * ```html\n * <a ui-sref=\"users\" href=\"/users/\">Users</a>\n * ```\n *\n * ### Parameter Values\n * In addition to the state name, a `ui-sref` can include parameter values which are applied when activating the state.\n * Param values can be provided in the `ui-sref` value after the state name, enclosed by parentheses.\n * The content inside the parentheses is an expression, evaluated to the parameter values.\n *\n * #### Example:\n * This example renders a list of links to users.\n * The state's `userId` parameter value comes from each user's `user.id` property.\n * ```html\n * <li ng-repeat=\"user in users\">\n *   <a ui-sref=\"users.detail({ userId: user.id })\">{{ user.displayName }}</a>\n * </li>\n * ```\n *\n * Note:\n * The parameter values expression is `$watch`ed for updates.\n *\n * ### Transition Options\n * You can specify [[TransitionOptions]] to pass to [[StateService.go]] by using the `ui-sref-opts` attribute.\n * Options are restricted to `location`, `inherit`, and `reload`.\n *\n * #### Example:\n * ```html\n * <a ui-sref=\"home\" ui-sref-opts=\"{ reload: true }\">Home</a>\n * ```\n *\n * ### Other DOM Events\n *\n * You can also customize which DOM events to respond to (instead of `click`) by\n * providing an `events` array in the `ui-sref-opts` attribute.\n *\n * #### Example:\n * ```html\n * <input type=\"text\" ui-sref=\"contacts\" ui-sref-opts=\"{ events: ['change', 'blur'] }\">\n * ```\n *\n * ### Highlighting the active link\n * This directive can be used in conjunction with [[uiSrefActive]] to highlight the active link.\n *\n * ### Examples\n * If you have the following template:\n *\n * ```html\n * <a ui-sref=\"home\">Home</a>\n * <a ui-sref=\"about\">About</a>\n * <a ui-sref=\"{page: 2}\">Next page</a>\n *\n * <ul>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a ui-sref=\"contacts.detail({ id: contact.id })\">{{ contact.name }}</a>\n *     </li>\n * </ul>\n * ```\n *\n * Then (assuming the current state is `contacts`) the rendered html including hrefs would be:\n *\n * ```html\n * <a href=\"#/home\" ui-sref=\"home\">Home</a>\n * <a href=\"#/about\" ui-sref=\"about\">About</a>\n * <a href=\"#/contacts?page=2\" ui-sref=\"{page: 2}\">Next page</a>\n *\n * <ul>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/1\" ui-sref=\"contacts.detail({ id: contact.id })\">Joe</a>\n *     </li>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/2\" ui-sref=\"contacts.detail({ id: contact.id })\">Alice</a>\n *     </li>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/3\" ui-sref=\"contacts.detail({ id: contact.id })\">Bob</a>\n *     </li>\n * </ul>\n *\n * <a href=\"#/home\" ui-sref=\"home\" ui-sref-opts=\"{reload: true}\">Home</a>\n * ```\n *\n * ### Notes\n *\n * - You can use `ui-sref` to change **only the parameter values** by omitting the state name and parentheses.\n * #### Example:\n * Sets the `lang` parameter to `en` and remains on the same state.\n *\n * ```html\n * <a ui-sref=\"{ lang: 'en' }\">English</a>\n * ```\n *\n * - A middle-click, right-click, or ctrl-click is handled (natively) by the browser to open the href in a new window, for example.\n *\n * - Unlike the parameter values expression, the state name is not `$watch`ed (for performance reasons).\n * If you need to dynamically update the state being linked to, use the fully dynamic [[uiState]] directive.\n */\nlet uiSref: ng1_directive;\nuiSref = ['$uiRouter', '$timeout',\n  function $StateRefDirective($uiRouter: UIRouter, $timeout: ITimeoutService) {\n    let $state = $uiRouter.stateService;\n\n    return {\n      restrict: 'A',\n      require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n      link: function (scope: IScope, element: IAugmentedJQuery, attrs: any, uiSrefActive: any) {\n        let type = getTypeInfo(element);\n        let active = uiSrefActive[1] || uiSrefActive[0];\n        let unlinkInfoFn: Function = null;\n        let hookFn;\n\n        let rawDef = {} as Def;\n        let getDef = () => processedDef($state, element, rawDef);\n\n        let ref = parseStateRef(attrs.uiSref);\n        rawDef.uiState = ref.state;\n        rawDef.uiStateOpts = attrs.uiSrefOpts ? scope.$eval(attrs.uiSrefOpts) : {};\n\n        function update() {\n          let def = getDef();\n          if (unlinkInfoFn) unlinkInfoFn();\n          if (active) unlinkInfoFn = active.$$addStateInfo(def.uiState, def.uiStateParams);\n          if (def.href != null) attrs.$set(type.attr, def.href);\n        }\n\n        if (ref.paramExpr) {\n          scope.$watch(ref.paramExpr, function (val) {\n            rawDef.uiStateParams = extend({}, val);\n            update();\n          }, true);\n          rawDef.uiStateParams = extend({}, scope.$eval(ref.paramExpr));\n        }\n\n        update();\n\n        scope.$on('$destroy', <any> $uiRouter.stateRegistry.onStatesChanged(update));\n        scope.$on('$destroy', <any> $uiRouter.transitionService.onSuccess({}, update));\n\n        if (!type.clickable) return;\n        hookFn = clickHook(element, $state, $timeout, type, getDef);\n        bindEvents(element, scope, hookFn, rawDef.uiStateOpts);\n      }\n    };\n  }];\n\n/**\n * `ui-state`: A fully dynamic directive for linking to a state\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * **This directive is very similar to [[uiSref]], but it `$observe`s and `$watch`es/evaluates all its inputs.**\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * ### Linked State\n * The attribute value of `ui-state` is an expression which is `$watch`ed and evaluated as the state to link to.\n * **This is in contrast with `ui-sref`, which takes a state name as a string literal.**\n *\n * #### Example:\n * Create a list of links.\n * ```html\n * <li ng-repeat=\"link in navlinks\">\n *   <a ui-state=\"link.state\">{{ link.displayName }}</a>\n * </li>\n * ```\n *\n * ### Relative Links\n * If the expression evaluates to a relative path, it is processed like [[uiSref]].\n * You just need to be aware that the path is relative to the state that *created* the link.\n * This allows a state to create relative `ui-state` which always targets the same destination.\n *\n * ### hrefs\n * If the linked state has a URL, the directive will automatically generate and\n * update the `href` attribute (using the [[StateService.href]]  method).\n *\n * ### Parameter Values\n * In addition to the state name expression, a `ui-state` can include parameter values which are applied when activating the state.\n * Param values should be provided using the `ui-state-params` attribute.\n * The `ui-state-params` attribute value is `$watch`ed and evaluated as an expression.\n *\n * #### Example:\n * This example renders a list of links with param values.\n * The state's `userId` parameter value comes from each user's `user.id` property.\n * ```html\n * <li ng-repeat=\"link in navlinks\">\n *   <a ui-state=\"link.state\" ui-state-params=\"link.params\">{{ link.displayName }}</a>\n * </li>\n * ```\n *\n * ### Transition Options\n * You can specify [[TransitionOptions]] to pass to [[StateService.go]] by using the `ui-state-opts` attribute.\n * Options are restricted to `location`, `inherit`, and `reload`.\n * The value of the `ui-state-opts` is `$watch`ed and evaluated as an expression.\n *\n * #### Example:\n * ```html\n * <a ui-state=\"returnto.state\" ui-state-opts=\"{ reload: true }\">Home</a>\n * ```\n *\n * ### Other DOM Events\n *\n * You can also customize which DOM events to respond to (instead of `click`) by\n * providing an `events` array in the `ui-state-opts` attribute.\n *\n * #### Example:\n * ```html\n * <input type=\"text\" ui-state=\"contacts\" ui-state-opts=\"{ events: ['change', 'blur'] }\">\n * ```\n *\n * ### Highlighting the active link\n * This directive can be used in conjunction with [[uiSrefActive]] to highlight the active link.\n *\n * ### Notes\n *\n * - You can use `ui-params` to change **only the parameter values** by omitting the state name and supplying only `ui-state-params`.\n *   However, it might be simpler to use [[uiSref]] parameter-only links.\n *\n * #### Example:\n * Sets the `lang` parameter to `en` and remains on the same state.\n *\n * ```html\n * <a ui-state=\"\" ui-state-params=\"{ lang: 'en' }\">English</a>\n * ```\n *\n * - A middle-click, right-click, or ctrl-click is handled (natively) by the browser to open the href in a new window, for example.\n * ```\n */\nlet uiState: ng1_directive;\nuiState = ['$uiRouter', '$timeout',\n  function $StateRefDynamicDirective($uiRouter: UIRouter, $timeout: ITimeoutService) {\n    let $state = $uiRouter.stateService;\n\n    return {\n      restrict: 'A',\n      require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n      link: function (scope: IScope, element: IAugmentedJQuery, attrs: any, uiSrefActive: any) {\n        let type = getTypeInfo(element);\n        let active = uiSrefActive[1] || uiSrefActive[0];\n        let unlinkInfoFn: Function = null;\n        let hookFn;\n\n        let rawDef = {} as Def;\n        let getDef = () => processedDef($state, element, rawDef);\n\n        let inputAttrs = ['uiState', 'uiStateParams', 'uiStateOpts'];\n        let watchDeregFns = inputAttrs.reduce((acc, attr) => (acc[attr] = noop, acc), {});\n\n        function update() {\n          let def = getDef();\n          if (unlinkInfoFn) unlinkInfoFn();\n          if (active) unlinkInfoFn = active.$$addStateInfo(def.uiState, def.uiStateParams);\n          if (def.href != null) attrs.$set(type.attr, def.href);\n        }\n\n        inputAttrs.forEach((field) => {\n          rawDef[field] = attrs[field] ? scope.$eval(attrs[field]) : null;\n\n          attrs.$observe(field, (expr) => {\n            watchDeregFns[field]();\n            watchDeregFns[field] = scope.$watch(expr, (newval) => {\n              rawDef[field] = newval;\n              update();\n            }, true);\n          })\n        });\n\n        update();\n\n        scope.$on('$destroy', <any> $uiRouter.stateRegistry.onStatesChanged(update));\n        scope.$on('$destroy', <any> $uiRouter.transitionService.onSuccess({}, update));\n\n        if (!type.clickable) return;\n        hookFn = clickHook(element, $state, $timeout, type, getDef);\n        bindEvents(element, scope, hookFn, rawDef.uiStateOpts);\n      }\n    };\n  }];\n\n\n/**\n * `ui-sref-active` and `ui-sref-active-eq`: A directive that adds a CSS class when a `ui-sref` is active\n *\n * A directive working alongside [[uiSref]] and [[uiState]] to add classes to an element when the\n * related directive's state is active (and remove them when it is inactive).\n *\n * The primary use-case is to highlight the active link in navigation menus,\n * distinguishing it from the inactive menu items.\n *\n * ### Linking to a `ui-sref` or `ui-state`\n * `ui-sref-active` can live on the same element as `ui-sref`/`ui-state`, or it can be on a parent element.\n * If a `ui-sref-active` is a parent to more than one `ui-sref`/`ui-state`, it will apply the CSS class when **any of the links are active**.\n *\n * ### Matching\n *\n * The `ui-sref-active` directive applies the CSS class when the `ui-sref`/`ui-state`'s target state **or any child state is active**.\n * This is a \"fuzzy match\" which uses [[StateService.includes]].\n *\n * The `ui-sref-active-eq` directive applies the CSS class when the `ui-sref`/`ui-state`'s target state is directly active (not when child states are active).\n * This is an \"exact match\" which uses [[StateService.is]].\n *\n * ### Parameter values\n * If the `ui-sref`/`ui-state` includes parameter values, the current parameter values must match the link's values for the link to be highlighted.\n * This allows a list of links to the same state with different parameters to be rendered, and the correct one highlighted.\n *\n * #### Example:\n * ```html\n * <li ng-repeat=\"user in users\" ui-sref-active=\"active\">\n *   <a ui-sref=\"user.details({ userId: user.id })\">{{ user.lastName }}</a>\n * </li>\n * ```\n *\n * ### Examples\n *\n * Given the following template:\n * #### Example:\n * ```html\n * <ul>\n *   <li ui-sref-active=\"active\" class=\"item\">\n *     <a href ui-sref=\"app.user({user: 'bilbobaggins'})\">@bilbobaggins</a>\n *   </li>\n * </ul>\n * ```\n *\n * When the app state is `app.user` (or any child state),\n * and contains the state parameter \"user\" with value \"bilbobaggins\",\n * the resulting HTML will appear as (note the 'active' class):\n *\n * ```html\n * <ul>\n *   <li ui-sref-active=\"active\" class=\"item active\">\n *     <a ui-sref=\"app.user({user: 'bilbobaggins'})\" href=\"/users/bilbobaggins\">@bilbobaggins</a>\n *   </li>\n * </ul>\n * ```\n *\n * ### Glob mode\n *\n * It is possible to pass `ui-sref-active` an expression that evaluates to an object.\n * The objects keys represent active class names and values represent the respective state names/globs.\n * `ui-sref-active` will match if the current active state **includes** any of\n * the specified state names/globs, even the abstract ones.\n *\n * #### Example:\n * Given the following template, with \"admin\" being an abstract state:\n * ```html\n * <div ui-sref-active=\"{'active': 'admin.**'}\">\n *   <a ui-sref-active=\"active\" ui-sref=\"admin.roles\">Roles</a>\n * </div>\n * ```\n *\n * When the current state is \"admin.roles\" the \"active\" class will be applied to both the <div> and <a> elements.\n * It is important to note that the state names/globs passed to `ui-sref-active` override any state provided by a linked `ui-sref`.\n *\n * ### Notes:\n *\n * - The class name is interpolated **once** during the directives link time (any further changes to the\n * interpolated value are ignored).\n *\n * - Multiple classes may be specified in a space-separated format: `ui-sref-active='class1 class2 class3'`\n */\nlet uiSrefActive: ng1_directive;\nuiSrefActive = ['$state', '$stateParams', '$interpolate', '$uiRouter',\n  function $StateRefActiveDirective($state: StateService, $stateParams: Obj, $interpolate: IInterpolateService, $uiRouter: UIRouter) {\n    return {\n      restrict: \"A\",\n      controller: ['$scope', '$element', '$attrs',\n        function ($scope: IScope, $element: IAugmentedJQuery, $attrs: any) {\n          let states: StateData[] = [],\n              activeEqClass: string,\n              uiSrefActive: any;\n\n          // There probably isn't much point in $observing this\n          // uiSrefActive and uiSrefActiveEq share the same directive object with some\n          // slight difference in logic routing\n          activeEqClass = $interpolate($attrs.uiSrefActiveEq || '', false)($scope);\n\n          try {\n            uiSrefActive = $scope.$eval($attrs.uiSrefActive);\n          } catch (e) {\n            // Do nothing. uiSrefActive is not a valid expression.\n            // Fall back to using $interpolate below\n          }\n          uiSrefActive = uiSrefActive || $interpolate($attrs.uiSrefActive || '', false)($scope);\n          if (isObject(uiSrefActive)) {\n            forEach(uiSrefActive, function (stateOrName: StateOrName, activeClass: string) {\n              if (isString(stateOrName)) {\n                let ref = parseStateRef(stateOrName);\n                addState(ref.state, $scope.$eval(ref.paramExpr), activeClass);\n              }\n            });\n          }\n\n          // Allow uiSref to communicate with uiSrefActive[Equals]\n          this.$$addStateInfo = function (newState: string, newParams: Obj) {\n            // we already got an explicit state provided by ui-sref-active, so we\n            // shadow the one that comes from ui-sref\n            if (isObject(uiSrefActive) && states.length > 0) {\n              return;\n            }\n            let deregister = addState(newState, newParams, uiSrefActive);\n            update();\n            return deregister;\n          };\n\n          function updateAfterTransition(trans) {\n            trans.promise.then(update, noop);\n          }\n\n          $scope.$on('$stateChangeSuccess', update);\n          $scope.$on('$destroy', <any> $uiRouter.transitionService.onStart({}, updateAfterTransition));\n          if ($uiRouter.globals.transition) {\n            updateAfterTransition($uiRouter.globals.transition);\n          }\n\n          function addState(stateName: string, stateParams: Obj, activeClass: string) {\n            var state = $state.get(stateName, stateContext($element));\n\n            var stateInfo = {\n              state: state || { name: stateName },\n              params: stateParams,\n              activeClass: activeClass\n            };\n\n            states.push(stateInfo);\n\n            return function removeState() {\n              removeFrom(states)(stateInfo);\n            }\n          }\n\n          // Update route state\n          function update() {\n            const splitClasses = str =>\n                str.split(/\\s/).filter(identity);\n            const getClasses = (stateList: StateData[]) =>\n                stateList.map(x => x.activeClass).map(splitClasses).reduce(unnestR, []);\n\n            let allClasses = getClasses(states).concat(splitClasses(activeEqClass)).reduce(uniqR, []);\n            let fuzzyClasses = getClasses(states.filter(x => $state.includes(x.state.name, x.params)));\n            let exactlyMatchesAny = !!states.filter(x => $state.is(x.state.name, x.params)).length;\n            let exactClasses = exactlyMatchesAny ? splitClasses(activeEqClass) : [];\n\n            let addClasses = fuzzyClasses.concat(exactClasses).reduce(uniqR, []);\n            let removeClasses = allClasses.filter(cls => !inArray(addClasses, cls));\n\n            $scope.$evalAsync(() => {\n              addClasses.forEach(className => $element.addClass(className));\n              removeClasses.forEach(className => $element.removeClass(className));\n            });\n          }\n\n          update();\n        }]\n    };\n  }];\n\n/** @hidden */\ninterface Def { uiState: string; href: string; uiStateParams: Obj; uiStateOpts: any; }\n/** @hidden */\ninterface StateData { state: StateDeclaration; params: RawParams; activeClass: string; }\n\nangular.module('ui.router.state')\n    .directive('uiSref', uiSref)\n    .directive('uiSrefActive', uiSrefActive)\n    .directive('uiSrefActiveEq', uiSrefActive)\n    .directive('uiState', uiState);\n","/** @module ng1 */ /** for typedoc */\n\nimport { ng as angular } from \"./angular\";\nimport { Obj, StateService, StateOrName } from \"@uirouter/core\";\n\n/**\n * `isState` Filter: truthy if the current state is the parameter\n *\n * Translates to [[StateService.is]] `$state.is(\"stateName\")`.\n *\n * #### Example:\n * ```html\n * <div ng-if=\"'stateName' | isState\">show if state is 'stateName'</div>\n * ```\n */\n$IsStateFilter.$inject = ['$state'];\nexport function $IsStateFilter($state: StateService) {\n  var isFilter: any = function(state: StateOrName, params: Obj, options?: { relative?: boolean }) {\n    return $state.is(state, params, options);\n  };\n  isFilter.$stateful = true;\n  return isFilter;\n}\n\n/**\n * `includedByState` Filter: truthy if the current state includes the parameter\n *\n * Translates to [[StateService.includes]]` $state.is(\"fullOrPartialStateName\")`.\n *\n * #### Example:\n * ```html\n * <div ng-if=\"'fullOrPartialStateName' | includedByState\">show if state includes 'fullOrPartialStateName'</div>\n * ```\n */\n$IncludedByStateFilter.$inject = ['$state'];\nexport function $IncludedByStateFilter($state: StateService) {\n  var includesFilter: any = function(state: StateOrName, params: Obj, options: Obj) {\n    return $state.includes(state, params, options);\n  };\n  includesFilter.$stateful = true;\n  return  includesFilter;\n}\n\nangular.module('ui.router.state')\n  .filter('isState', $IsStateFilter)\n  .filter('includedByState', $IncludedByStateFilter);\n","/** \n * @ng1api \n * @module directives \n */ /** for typedoc */\nimport { ng as angular } from \"../angular\";\nimport {\n    IInterpolateService, IScope, ITranscludeFunction, IAugmentedJQuery,\n    ICompileService, IControllerService, ITimeoutService, noop\n} from \"angular\";\n\nimport {\n    extend, unnestR, filter, tail, isDefined, isFunction, isString, trace, parse,\n    ActiveUIView, TransitionService, ResolveContext, Transition, PathNode, StateDeclaration,\n    Param, kebobString, HookRegOptions, ViewService, $QLike, Obj, TypedMap\n} from \"@uirouter/core\";\nimport {Ng1ViewConfig} from \"../statebuilders/views\";\nimport {Ng1Controller, Ng1StateDeclaration} from \"../interface\";\nimport {getLocals} from \"../services\";\nimport { ng1_directive } from \"./stateDirectives\";\n\n/** @hidden */\nexport type UIViewData = {\n  $cfg: Ng1ViewConfig;\n  $uiView: ActiveUIView;\n}\n\n/** @hidden */\nexport type UIViewAnimData = {\n  $animEnter: Promise<any>;\n  $animLeave: Promise<any>;\n  $$animLeave: { resolve: () => any; } // \"deferred\"\n}\n\n/**\n * `ui-view`: A viewport directive which is filled in by a view from the active state.\n *\n * ### Attributes\n *\n * - `name`: (Optional) A view name.\n *   The name should be unique amongst the other views in the same state.\n *   You can have views of the same name that live in different states.\n *   The ui-view can be targeted in a View using the name ([[Ng1StateDeclaration.views]]).\n *\n * - `autoscroll`: an expression. When it evaluates to true, the `ui-view` will be scrolled into view when it is activated.\n *   Uses [[$uiViewScroll]] to do the scrolling.\n *\n * - `onload`: Expression to evaluate whenever the view updates.\n *\n * #### Example:\n * A view can be unnamed or named.\n * ```html\n * <!-- Unnamed -->\n * <div ui-view></div>\n *\n * <!-- Named -->\n * <div ui-view=\"viewName\"></div>\n *\n * <!-- Named (different style) -->\n * <ui-view name=\"viewName\"></ui-view>\n * ```\n *\n * You can only have one unnamed view within any template (or root html). If you are only using a\n * single view and it is unnamed then you can populate it like so:\n *\n * ```html\n * <div ui-view></div>\n * $stateProvider.state(\"home\", {\n *   template: \"<h1>HELLO!</h1>\"\n * })\n * ```\n *\n * The above is a convenient shortcut equivalent to specifying your view explicitly with the\n * [[Ng1StateDeclaration.views]] config property, by name, in this case an empty name:\n *\n * ```js\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     }\n *   }\n * })\n * ```\n *\n * But typically you'll only use the views property if you name your view or have more than one view\n * in the same template. There's not really a compelling reason to name a view if its the only one,\n * but you could if you wanted, like so:\n *\n * ```html\n * <div ui-view=\"main\"></div>\n * ```\n *\n * ```js\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"main\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     }\n *   }\n * })\n * ```\n *\n * Really though, you'll use views to set up multiple views:\n *\n * ```html\n * <div ui-view></div>\n * <div ui-view=\"chart\"></div>\n * <div ui-view=\"data\"></div>\n * ```\n *\n * ```js\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     },\n *     \"chart\": {\n *       template: \"<chart_thing/>\"\n *     },\n *     \"data\": {\n *       template: \"<data_thing/>\"\n *     }\n *   }\n * })\n * ```\n *\n * #### Examples for `autoscroll`:\n * ```html\n * <!-- If autoscroll present with no expression,\n *      then scroll ui-view into view -->\n * <ui-view autoscroll/>\n *\n * <!-- If autoscroll present with valid expression,\n *      then scroll ui-view into view if expression evaluates to true -->\n * <ui-view autoscroll='true'/>\n * <ui-view autoscroll='false'/>\n * <ui-view autoscroll='scopeVariable'/>\n * ```\n *\n * Resolve data:\n *\n * The resolved data from the state's `resolve` block is placed on the scope as `$resolve` (this\n * can be customized using [[Ng1ViewDeclaration.resolveAs]]).  This can be then accessed from the template.\n *\n * Note that when `controllerAs` is being used, `$resolve` is set on the controller instance *after* the\n * controller is instantiated.  The `$onInit()` hook can be used to perform initialization code which\n * depends on `$resolve` data.\n *\n * #### Example:\n * ```js\n * $stateProvider.state('home', {\n *   template: '<my-component user=\"$resolve.user\"></my-component>',\n *   resolve: {\n *     user: function(UserService) { return UserService.fetchUser(); }\n *   }\n * });\n * ```\n */\nexport let uiView: ng1_directive;\nuiView = ['$view', '$animate', '$uiViewScroll', '$interpolate', '$q',\nfunction $ViewDirective($view: ViewService, $animate: any, $uiViewScroll: any, $interpolate: IInterpolateService, $q: $QLike) {\n\n  function getRenderer(attrs: Obj, scope: IScope) {\n    return {\n      enter: function(element: JQuery, target: any, cb: Function) {\n        if (angular.version.minor > 2) {\n          $animate.enter(element, null, target).then(cb);\n        } else {\n          $animate.enter(element, null, target, cb);\n        }\n      },\n      leave: function(element: JQuery, cb: Function) {\n        if (angular.version.minor > 2) {\n          $animate.leave(element).then(cb);\n        } else {\n          $animate.leave(element, cb);\n        }\n      }\n    };\n  }\n\n  function configsEqual(config1: Ng1ViewConfig, config2: Ng1ViewConfig) {\n    return config1 === config2;\n  }\n\n  let rootData = {\n    $cfg: { viewDecl: { $context: $view._pluginapi._rootViewContext() } },\n    $uiView: { }\n  };\n\n  let directive = {\n    count: 0,\n    restrict: 'ECA',\n    terminal: true,\n    priority: 400,\n    transclude: 'element',\n    compile: function (tElement: JQuery, tAttrs: Obj, $transclude: ITranscludeFunction) {\n\n      return function (scope: IScope, $element: IAugmentedJQuery, attrs: Obj) {\n        let previousEl: JQuery, currentEl: JQuery,\n            currentScope: IScope, unregister: Function,\n            onloadExp     = attrs['onload'] || '',\n            autoScrollExp = attrs['autoscroll'],\n            renderer      = getRenderer(attrs, scope),\n            viewConfig    = undefined as Ng1ViewConfig,\n            inherited     = $element.inheritedData('$uiView') || rootData,\n            name          = $interpolate(attrs['uiView'] || attrs['name'] || '')(scope) || '$default';\n\n        let activeUIView: ActiveUIView = {\n          $type: 'ng1',\n          id: directive.count++,                                   // Global sequential ID for ui-view tags added to DOM\n          name: name,                                              // ui-view name (<div ui-view=\"name\"></div>\n          fqn: inherited.$uiView.fqn ? inherited.$uiView.fqn + \".\" + name : name, // fully qualified name, describes location in DOM\n          config: null,                                            // The ViewConfig loaded (from a state.views definition)\n          configUpdated: configUpdatedCallback,                    // Called when the matching ViewConfig changes\n          get creationContext() {                                  // The context in which this ui-view \"tag\" was created\n            let fromParentTagConfig = parse('$cfg.viewDecl.$context')(inherited);\n            // Allow <ui-view name=\"foo\"><ui-view name=\"bar\"></ui-view></ui-view>\n            // See https://github.com/angular-ui/ui-router/issues/3355\n            let fromParentTag = parse('$uiView.creationContext')(inherited);\n            return fromParentTagConfig || fromParentTag;\n          }\n        };\n\n        trace.traceUIViewEvent(\"Linking\", activeUIView);\n\n        function configUpdatedCallback(config?: Ng1ViewConfig) {\n          if (config && !(config instanceof Ng1ViewConfig)) return;\n          if (configsEqual(viewConfig, config)) return;\n          trace.traceUIViewConfigUpdated(activeUIView, config && config.viewDecl && config.viewDecl.$context);\n\n          viewConfig = config;\n          updateView(config);\n        }\n\n        $element.data('$uiView', { $uiView: activeUIView });\n\n        updateView();\n\n        unregister = $view.registerUIView(activeUIView);\n        scope.$on(\"$destroy\", function() {\n          trace.traceUIViewEvent(\"Destroying/Unregistering\", activeUIView);\n          unregister();\n        });\n\n        function cleanupLastView() {\n          if (previousEl) {\n            trace.traceUIViewEvent(\"Removing (previous) el\", previousEl.data('$uiView'));\n            previousEl.remove();\n            previousEl = null;\n          }\n\n          if (currentScope) {\n            trace.traceUIViewEvent(\"Destroying scope\", activeUIView);\n            currentScope.$destroy();\n            currentScope = null;\n          }\n\n          if (currentEl) {\n            let _viewData = currentEl.data('$uiViewAnim');\n            trace.traceUIViewEvent(\"Animate out\", _viewData);\n            renderer.leave(currentEl, function() {\n              _viewData.$$animLeave.resolve();\n              previousEl = null;\n            });\n\n            previousEl = currentEl;\n            currentEl = null;\n          }\n        }\n\n        function updateView(config?: Ng1ViewConfig) {\n          let newScope = scope.$new();\n          let animEnter = $q.defer(), animLeave = $q.defer();\n\n          let $uiViewData: UIViewData = {\n            $cfg: config,\n            $uiView: activeUIView,\n          };\n\n          let $uiViewAnim: UIViewAnimData = {\n            $animEnter: animEnter.promise,\n            $animLeave: animLeave.promise,\n            $$animLeave: animLeave\n          };\n\n          /**\n           * @ngdoc event\n           * @name ui.router.state.directive:ui-view#$viewContentLoading\n           * @eventOf ui.router.state.directive:ui-view\n           * @eventType emits on ui-view directive scope\n           * @description\n           *\n           * Fired once the view **begins loading**, *before* the DOM is rendered.\n           *\n           * @param {Object} event Event object.\n           * @param {string} viewName Name of the view.\n           */\n          newScope.$emit('$viewContentLoading', name);\n\n          let cloned = $transclude(newScope, function(clone) {\n            clone.data('$uiViewAnim', $uiViewAnim);\n            clone.data('$uiView', $uiViewData);\n            renderer.enter(clone, $element, function onUIViewEnter() {\n              animEnter.resolve();\n              if (currentScope) currentScope.$emit('$viewContentAnimationEnded');\n\n              if (isDefined(autoScrollExp) && !autoScrollExp || scope.$eval(autoScrollExp)) {\n                $uiViewScroll(clone);\n              }\n            });\n\n            cleanupLastView();\n          });\n\n          currentEl = cloned;\n          currentScope = newScope;\n          /**\n           * @ngdoc event\n           * @name ui.router.state.directive:ui-view#$viewContentLoaded\n           * @eventOf ui.router.state.directive:ui-view\n           * @eventType emits on ui-view directive scope\n           * @description           *\n           * Fired once the view is **loaded**, *after* the DOM is rendered.\n           *\n           * @param {Object} event Event object.\n           */\n          currentScope.$emit('$viewContentLoaded', config || viewConfig);\n          currentScope.$eval(onloadExp);\n        }\n      };\n    }\n  };\n\n  return directive;\n}];\n\n$ViewDirectiveFill.$inject = ['$compile', '$controller', '$transitions', '$view', '$q', '$timeout'];\n/** @hidden */\nfunction $ViewDirectiveFill($compile: angular.ICompileService,\n                            $controller: angular.IControllerService,\n                            $transitions: TransitionService,\n                            $view: ViewService,\n                            $q: angular.IQService,\n                            $timeout: ITimeoutService) {\n  const getControllerAs = parse('viewDecl.controllerAs');\n  const getResolveAs = parse('viewDecl.resolveAs');\n\n  return {\n    restrict: 'ECA',\n    priority: -400,\n    compile: function (tElement: JQuery) {\n      let initial = tElement.html();\n      tElement.empty();\n\n      return function (scope: IScope, $element: JQuery) {\n        let data: UIViewData = $element.data('$uiView');\n        if (!data) {\n            $element.html(initial);\n            $compile($element.contents())(scope);\n            return;\n        }\n\n        let cfg: Ng1ViewConfig = data.$cfg || <any> { viewDecl: {}, getTemplate: noop };\n        let resolveCtx: ResolveContext = cfg.path && new ResolveContext(cfg.path);\n        $element.html(cfg.getTemplate($element, resolveCtx) || initial);\n        trace.traceUIViewFill(data.$uiView, $element.html());\n\n        let link = $compile($element.contents());\n        let controller = cfg.controller;\n        let controllerAs: string = getControllerAs(cfg);\n        let resolveAs: string = getResolveAs(cfg);\n        let locals = resolveCtx && getLocals(resolveCtx);\n\n        scope[resolveAs] = locals;\n\n        if (controller) {\n          let controllerInstance = <Ng1Controller> $controller(controller, extend({}, locals, { $scope: scope, $element: $element }));\n          if (controllerAs) {\n            scope[controllerAs] = controllerInstance;\n            scope[controllerAs][resolveAs] = locals;\n          }\n\n          // TODO: Use $view service as a central point for registering component-level hooks\n          // Then, when a component is created, tell the $view service, so it can invoke hooks\n          // $view.componentLoaded(controllerInstance, { $scope: scope, $element: $element });\n          // scope.$on('$destroy', () => $view.componentUnloaded(controllerInstance, { $scope: scope, $element: $element }));\n\n          $element.data('$ngControllerController', controllerInstance);\n          $element.children().data('$ngControllerController', controllerInstance);\n\n          registerControllerCallbacks($q, $transitions, controllerInstance, scope, cfg);\n        }\n\n        // Wait for the component to appear in the DOM\n        if (isString(cfg.viewDecl.component)) {\n          let cmp = cfg.viewDecl.component;\n          let kebobName = kebobString(cmp);\n          let tagRegexp = new RegExp(`^(x-|data-)?${kebobName}$`, \"i\");\n\n          let getComponentController = () => {\n            let directiveEl = [].slice.call($element[0].children)\n                .filter((el: Element) => el && el.tagName && tagRegexp.exec(el.tagName)) ;\n            \n            return directiveEl && angular.element(directiveEl).data(`$${cmp}Controller`);\n          };\n\n          let deregisterWatch = scope.$watch(getComponentController, function(ctrlInstance) {\n            if (!ctrlInstance) return;\n            registerControllerCallbacks($q, $transitions, ctrlInstance, scope, cfg);\n            deregisterWatch();\n          });\n        }\n\n        link(scope);\n      };\n    }\n  };\n}\n\n/** @hidden */\nlet hasComponentImpl = typeof (angular as any).module('ui.router')['component'] === 'function';\n/** @hidden incrementing id */\nlet _uiCanExitId = 0;\n\n/** @hidden TODO: move these callbacks to $view and/or `/hooks/components.ts` or something */\nfunction registerControllerCallbacks($q: angular.IQService,\n                                     $transitions: TransitionService,\n                                     controllerInstance: Ng1Controller,\n                                     $scope: IScope,\n                                     cfg: Ng1ViewConfig) {\n  // Call $onInit() ASAP\n  if (isFunction(controllerInstance.$onInit) && !(cfg.viewDecl.component && hasComponentImpl)) {\n    controllerInstance.$onInit();\n  }\n\n  let viewState: Ng1StateDeclaration = tail(cfg.path).state.self;\n\n  let hookOptions: HookRegOptions = { bind: controllerInstance };\n  // Add component-level hook for onParamsChange\n  if (isFunction(controllerInstance.uiOnParamsChanged)) {\n    let resolveContext: ResolveContext = new ResolveContext(cfg.path);\n    let viewCreationTrans = resolveContext.getResolvable('$transition$').data;\n\n    // Fire callback on any successful transition\n    const paramsUpdated = ($transition$: Transition) => {\n      // Exit early if the $transition$ is the same as the view was created within.\n      // Exit early if the $transition$ will exit the state the view is for.\n      if ($transition$ === viewCreationTrans || $transition$.exiting().indexOf(viewState as StateDeclaration) !== -1) return;\n\n      let toParams = $transition$.params(\"to\") as TypedMap<any>;\n      let fromParams = $transition$.params<TypedMap<any>>(\"from\") as TypedMap<any>;\n      let toSchema: Param[] = $transition$.treeChanges().to.map((node: PathNode) => node.paramSchema).reduce(unnestR, []);\n      let fromSchema: Param[] = $transition$.treeChanges().from.map((node: PathNode) => node.paramSchema).reduce(unnestR, []);\n\n      // Find the to params that have different values than the from params\n      let changedToParams = toSchema.filter((param: Param) => {\n        let idx = fromSchema.indexOf(param);\n        return idx === -1 || !fromSchema[idx].type.equals(toParams[param.id], fromParams[param.id]);\n      });\n\n      // Only trigger callback if a to param has changed or is new\n      if (changedToParams.length) {\n        let changedKeys: string[] = changedToParams.map(x => x.id);\n        // Filter the params to only changed/new to params.  `$transition$.params()` may be used to get all params.\n        let newValues = filter(toParams, (val, key) => changedKeys.indexOf(key) !== -1);\n        controllerInstance.uiOnParamsChanged(newValues, $transition$);\n      }\n    };\n    $scope.$on('$destroy', <any> $transitions.onSuccess({}, paramsUpdated, hookOptions));\n  }\n\n  // Add component-level hook for uiCanExit\n  if (isFunction(controllerInstance.uiCanExit)) {\n    let id = _uiCanExitId++;\n    let cacheProp = '_uiCanExitIds';\n\n    // Returns true if a redirect transition already answered truthy\n    const prevTruthyAnswer = (trans: Transition) =>\n        !!trans && (trans[cacheProp] && trans[cacheProp][id] === true || prevTruthyAnswer(trans.redirectedFrom()));\n\n    // If a user answered yes, but the transition was later redirected, don't also ask for the new redirect transition\n    const wrappedHook = (trans: Transition) => {\n      let promise, ids = trans[cacheProp] = trans[cacheProp] || {};\n      if (!prevTruthyAnswer(trans)) {\n        promise = $q.when(controllerInstance.uiCanExit(trans));\n        promise.then(val => ids[id] = (val !== false));\n      }\n      return promise;\n    };\n\n    let criteria = {exiting: viewState.name};\n    $scope.$on('$destroy', <any> $transitions.onBefore(criteria, wrappedHook, hookOptions));\n  }\n}\n\nangular.module('ui.router.state').directive('uiView', <any> uiView);\nangular.module('ui.router.state').directive('uiView', <any> $ViewDirectiveFill);\n","/** @module ng1 */ /** */\nimport { ng as angular } from \"./angular\";\nimport { IServiceProviderFactory } from \"angular\";\nimport IAnchorScrollService = angular.IAnchorScrollService;\nimport ITimeoutService = angular.ITimeoutService;\n\nexport interface UIViewScrollProvider {\n  /**\n   * Uses standard anchorScroll behavior\n   *\n   * Reverts [[$uiViewScroll]] back to using the core [`$anchorScroll`](http://docs.angularjs.org/api/ng.$anchorScroll)\n   * service for scrolling based on the url anchor.\n   */\n  useAnchorScroll(): void;\n}\n\n\n/** @hidden */\nfunction $ViewScrollProvider() {\n\n  var useAnchorScroll = false;\n\n  this.useAnchorScroll = function () {\n    useAnchorScroll = true;\n  };\n\n  this.$get = ['$anchorScroll', '$timeout', function ($anchorScroll: IAnchorScrollService, $timeout: ITimeoutService): Function {\n    if (useAnchorScroll) {\n      return $anchorScroll;\n    }\n\n    return function ($element: JQuery) {\n      return $timeout(function () {\n        $element[0].scrollIntoView();\n      }, 0, false);\n    };\n  }];\n}\n\nangular.module('ui.router.state').provider('$uiViewScroll', <IServiceProviderFactory> $ViewScrollProvider);\n","/**\n * @hidden\n * @module ng1\n */ /** */\ndeclare var angular;\nimport * as ng_from_import from \"angular\";\nlet ng_from_global = angular;\n\nexport const ng = (ng_from_import && ng_from_import.module) ? ng_from_import : ng_from_global;\n",{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/common/glob.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/state/stateObject.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/common/coreservices.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/common/queue.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/transition/rejectFactory.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/transition/interface.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/state/targetState.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/transition/transitionHook.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/path/pathNode.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/path/pathFactory.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/resolve/resolvable.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/resolve/interface.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/resolve/resolveContext.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/transition/transition.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/params/paramTypes.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/params/stateParams.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/state/stateMatcher.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/state/stateQueueManager.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/state/stateRegistry.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/url/urlMatcherFactory.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/url/urlRule.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/view/view.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/globals.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/url/urlService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/router.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/hooks/redirectTo.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/hooks/resolve.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/hooks/views.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/hooks/updateGlobals.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/hooks/url.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/transition/transitionEventType.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/transition/transitionService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/state/stateService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/vanilla/q.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/vanilla/injector.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/vanilla/baseLocationService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/vanilla/hashLocationService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/vanilla/memoryLocationService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/vanilla/pushStateLocationService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/vanilla/memoryLocationConfig.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/vanilla/browserLocationConfig.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/cthielen/projects/uirouter/angularjs/node_modules/@uirouter/core/src/interface.ts"},"/** @module ng1 */ /** for typedoc */\nimport {\n    val, isObject, createProxyFunctions, BuilderFunction, StateRegistry, StateService, OnInvalidCallback\n} from \"@uirouter/core\";\nimport { Ng1StateDeclaration } from \"./interface\";\n\n/**\n * The Angular 1 `StateProvider`\n *\n * The `$stateProvider` works similar to Angular's v1 router, but it focuses purely\n * on state.\n *\n * A state corresponds to a \"place\" in the application in terms of the overall UI and\n * navigation. A state describes (via the controller / template / view properties) what\n * the UI looks like and does at that place.\n *\n * States often have things in common, and the primary way of factoring out these\n * commonalities in this model is via the state hierarchy, i.e. parent/child states aka\n * nested states.\n *\n * The `$stateProvider` provides interfaces to declare these states for your app.\n */\nexport class StateProvider {\n  constructor(private stateRegistry: StateRegistry, private stateService: StateService) {\n    createProxyFunctions(val(StateProvider.prototype), this, val(this));\n  }\n\n  /**\n   * Decorates states when they are registered\n   *\n   * Allows you to extend (carefully) or override (at your own peril) the\n   * `stateBuilder` object used internally by [[StateRegistry]].\n   * This can be used to add custom functionality to ui-router,\n   * for example inferring templateUrl based on the state name.\n   *\n   * When passing only a name, it returns the current (original or decorated) builder\n   * function that matches `name`.\n   *\n   * The builder functions that can be decorated are listed below. Though not all\n   * necessarily have a good use case for decoration, that is up to you to decide.\n   *\n   * In addition, users can attach custom decorators, which will generate new\n   * properties within the state's internal definition. There is currently no clear\n   * use-case for this beyond accessing internal states (i.e. $state.$current),\n   * however, expect this to become increasingly relevant as we introduce additional\n   * meta-programming features.\n   *\n   * **Warning**: Decorators should not be interdependent because the order of\n   * execution of the builder functions in non-deterministic. Builder functions\n   * should only be dependent on the state definition object and super function.\n   *\n   *\n   * Existing builder functions and current return values:\n   *\n   * - **parent** `{object}` - returns the parent state object.\n   * - **data** `{object}` - returns state data, including any inherited data that is not\n   *   overridden by own values (if any).\n   * - **url** `{object}` - returns a {@link ui.router.util.type:UrlMatcher UrlMatcher}\n   *   or `null`.\n   * - **navigable** `{object}` - returns closest ancestor state that has a URL (aka is\n   *   navigable).\n   * - **params** `{object}` - returns an array of state params that are ensured to\n   *   be a super-set of parent's params.\n   * - **views** `{object}` - returns a views object where each key is an absolute view\n   *   name (i.e. \"viewName@stateName\") and each value is the config object\n   *   (template, controller) for the view. Even when you don't use the views object\n   *   explicitly on a state config, one is still created for you internally.\n   *   So by decorating this builder function you have access to decorating template\n   *   and controller properties.\n   * - **ownParams** `{object}` - returns an array of params that belong to the state,\n   *   not including any params defined by ancestor states.\n   * - **path** `{string}` - returns the full path from the root down to this state.\n   *   Needed for state activation.\n   * - **includes** `{object}` - returns an object that includes every state that\n   *   would pass a `$state.includes()` test.\n   *\n   * #### Example:\n   * Override the internal 'views' builder with a function that takes the state\n   * definition, and a reference to the internal function being overridden:\n   * ```js\n   * $stateProvider.decorator('views', function (state, parent) {\n   *   let result = {},\n   *       views = parent(state);\n   *\n   *   angular.forEach(views, function (config, name) {\n   *     let autoName = (state.name + '.' + name).replace('.', '/');\n   *     config.templateUrl = config.templateUrl || '/partials/' + autoName + '.html';\n   *     result[name] = config;\n   *   });\n   *   return result;\n   * });\n   *\n   * $stateProvider.state('home', {\n   *   views: {\n   *     'contact.list': { controller: 'ListController' },\n   *     'contact.item': { controller: 'ItemController' }\n   *   }\n   * });\n   * ```\n   *\n   *\n   * ```js\n   * // Auto-populates list and item views with /partials/home/contact/list.html,\n   * // and /partials/home/contact/item.html, respectively.\n   * $state.go('home');\n   * ```\n   *\n   * @param {string} name The name of the builder function to decorate.\n   * @param {object} func A function that is responsible for decorating the original\n   * builder function. The function receives two parameters:\n   *\n   *   - `{object}` - state - The state config object.\n   *   - `{object}` - super - The original builder function.\n   *\n   * @return {object} $stateProvider - $stateProvider instance\n   */\n  decorator(name: string, func: BuilderFunction) {\n    return this.stateRegistry.decorator(name, func) || this;\n  }\n\n  /**\n   * Registers a state\n   *\n   * ### This is a passthrough to [[StateRegistry.register]].\n   *\n   * Registers a state configuration under a given state name.\n   * The stateConfig object has the following acceptable properties.\n   *\n   * <a id='template'></a>\n   *\n   * - **`template`** - {string|function=} - html template as a string or a function that returns\n   *   an html template as a string which should be used by the uiView directives. This property\n   *   takes precedence over templateUrl.\n   *\n   *   If `template` is a function, it will be called with the following parameters:\n   *\n   *   - {array.&lt;object&gt;} - state parameters extracted from the current $location.path() by\n   *     applying the current state\n   *\n   * <a id='templateUrl'></a>\n   *\n   * - **`templateUrl`** - {string|function=} - path or function that returns a path to an html\n   *   template that should be used by uiView.\n   *\n   *   If `templateUrl` is a function, it will be called with the following parameters:\n   *\n   *   - {array.&lt;object&gt;} - state parameters extracted from the current $location.path() by\n   *     applying the current state\n   *\n   * <a id='templateProvider'></a>\n   *\n   * - **`templateProvider`** - {function=} - Provider function that returns HTML content\n   *   string.\n   *\n   * <a id='controller'></a>\n   *\n   * - **`controller`** - {string|function=} -  Controller fn that should be associated with newly\n   *   related scope or the name of a registered controller if passed as a string.\n   *\n   * <a id='controllerProvider'></a>\n   *\n   * - **`controllerProvider`** - {function=} - Injectable provider function that returns\n   *   the actual controller or string.\n   *\n   * <a id='controllerAs'></a>\n   *\n   * - **`controllerAs`** – {string=} – A controller alias name. If present the controller will be\n   *   published to scope under the controllerAs name.\n   *\n   * <a id='resolve'></a>\n   *\n   * - **`resolve`** - {object.&lt;string, function&gt;=} - An optional map of dependencies which\n   *   should be injected into the controller. If any of these dependencies are promises,\n   *   the router will wait for them all to be resolved or one to be rejected before the\n   *   controller is instantiated. If all the promises are resolved successfully, the values\n   *   of the resolved promises are injected and $stateChangeSuccess event is fired. If any\n   *   of the promises are rejected the $stateChangeError event is fired. The map object is:\n   *\n   *   - key - {string}: name of dependency to be injected into controller\n   *   - factory - {string|function}: If string then it is alias for service. Otherwise if function,\n   *     it is injected and return value it treated as dependency. If result is a promise, it is\n   *     resolved before its value is injected into controller.\n   *\n   * <a id='url'></a>\n   *\n   * - **`url`** - {string=} - A url with optional parameters. When a state is navigated or\n   *   transitioned to, the `$stateParams` service will be populated with any\n   *   parameters that were passed.\n   *\n   * <a id='params'></a>\n   *\n   * - **`params`** - {object=} - An array of parameter names or regular expressions. Only\n   *   use this within a state if you are not using url. Otherwise you can specify your\n   *   parameters within the url. When a state is navigated or transitioned to, the\n   *   $stateParams service will be populated with any parameters that were passed.\n   *\n   * <a id='views'></a>\n   *\n   * - **`views`** - {object=} - Use the views property to set up multiple views or to target views\n   *   manually/explicitly.\n   *\n   * <a id='abstract'></a>\n   *\n   * - **`abstract`** - {boolean=} - An abstract state will never be directly activated,\n   *   but can provide inherited properties to its common children states.\n   *\n   * <a id='onEnter'></a>\n   *\n   * - **`onEnter`** - {object=} - Callback function for when a state is entered. Good way\n   *   to trigger an action or dispatch an event, such as opening a dialog.\n   * If minifying your scripts, make sure to use the `['injection1', 'injection2', function(injection1, injection2){}]` syntax.\n   *\n   * <a id='onExit'></a>\n   *\n   * - **`onExit`** - {object=} - Callback function for when a state is exited. Good way to\n   *   trigger an action or dispatch an event, such as opening a dialog.\n   * If minifying your scripts, make sure to use the `['injection1', 'injection2', function(injection1, injection2){}]` syntax.\n   *\n   * <a id='reloadOnSearch'></a>\n   *\n   * - **`reloadOnSearch = true`** - {boolean=} - If `false`, will not retrigger the same state\n   *   just because a search/query parameter has changed (via $location.search() or $location.hash()).\n   *   Useful for when you'd like to modify $location.search() without triggering a reload.\n   *\n   * <a id='data'></a>\n   *\n   * - **`data`** - {object=} - Arbitrary data object, useful for custom configuration.\n   *\n   * #### Example:\n   * Some state name examples\n   * ```js\n   * // stateName can be a single top-level name (must be unique).\n   * $stateProvider.state(\"home\", {});\n   *\n   * // Or it can be a nested state name. This state is a child of the\n   * // above \"home\" state.\n   * $stateProvider.state(\"home.newest\", {});\n   *\n   * // Nest states as deeply as needed.\n   * $stateProvider.state(\"home.newest.abc.xyz.inception\", {});\n   *\n   * // state() returns $stateProvider, so you can chain state declarations.\n   * $stateProvider\n   *   .state(\"home\", {})\n   *   .state(\"about\", {})\n   *   .state(\"contacts\", {});\n   * ```\n   *\n   * @param {string} name A unique state name, e.g. \"home\", \"about\", \"contacts\".\n   * To create a parent/child state use a dot, e.g. \"about.sales\", \"home.newest\".\n   * @param {object} definition State configuration object.\n   */\n  state(name: string, definition: Ng1StateDeclaration): StateProvider;\n  state(definition: Ng1StateDeclaration): StateProvider;\n  state(name: any, definition?: any) {\n    if (isObject(name)) {\n      definition = name;\n    } else {\n      definition.name = name;\n    }\n    this.stateRegistry.register(definition);\n    return this;\n  }\n\n  /**\n   * Registers an invalid state handler\n   *\n   * This is a passthrough to [[StateService.onInvalid]] for ng1.\n   */\n\n  onInvalid(callback: OnInvalidCallback): Function {\n    return this.stateService.onInvalid(callback);\n  }\n}\n","/** @module ng1 */ /** */\nimport {\n  StateObject, TransitionStateHookFn, HookResult, Transition, services, ResolveContext, extend, BuilderFunction\n} from \"@uirouter/core\";\nimport { getLocals } from \"../services\";\nimport { Ng1StateDeclaration } from '../interface';\n\n/**\n * This is a [[StateBuilder.builder]] function for angular1 `onEnter`, `onExit`,\n * `onRetain` callback hooks on a [[Ng1StateDeclaration]].\n *\n * When the [[StateBuilder]] builds a [[StateObject]] object from a raw [[StateDeclaration]], this builder\n * ensures that those hooks are injectable for @uirouter/angularjs (ng1).\n */\nexport const getStateHookBuilder = (hookName: \"onEnter\"|\"onExit\"|\"onRetain\") =>\nfunction stateHookBuilder(state: StateObject, parentFn: BuilderFunction): TransitionStateHookFn {\n  let hook = state[hookName];\n  let pathname = hookName === 'onExit' ? 'from' : 'to';\n\n  function decoratedNg1Hook(trans: Transition, state: Ng1StateDeclaration): HookResult {\n    let resolveContext = new ResolveContext(trans.treeChanges(pathname));\n    let locals = extend(getLocals(resolveContext), { $state$: state, $transition$: trans });\n    return services.$injector.invoke(hook, this, locals);\n  }\n\n  return hook ? decoratedNg1Hook : undefined;\n};\n","/**\n * @internalapi\n * @module ng1\n */ /** */\nimport { LocationConfig, LocationServices, UIRouter, ParamType } from \"@uirouter/core\";\nimport { val, createProxyFunctions, removeFrom, isObject } from \"@uirouter/core\";\nimport { ILocationService, ILocationProvider } from \"angular\";\n\n/**\n * Implements UI-Router LocationServices and LocationConfig using Angular 1's $location service\n */\nexport class Ng1LocationServices implements LocationConfig, LocationServices {\n  private $locationProvider: ILocationProvider;\n  private $location: ILocationService;\n  private $sniffer;\n\n  path;\n  search;\n  hash;\n  hashPrefix;\n  port;\n  protocol;\n  host;\n  baseHref;\n\n  // .onChange() registry\n  private _urlListeners: Function[] = [];\n\n  dispose() { }\n\n  constructor($locationProvider: ILocationProvider) {\n    this.$locationProvider = $locationProvider;\n    let _lp = val($locationProvider);\n    createProxyFunctions(_lp, this, _lp, ['hashPrefix']);\n  }\n\n  onChange(callback: Function) {\n    this._urlListeners.push(callback);\n    return () => removeFrom(this._urlListeners)(callback);\n  }\n\n  html5Mode() {\n    let html5Mode: any = this.$locationProvider.html5Mode();\n    html5Mode = isObject(html5Mode) ? html5Mode.enabled : html5Mode;\n    return html5Mode && this.$sniffer.history;\n  }\n\n  url(newUrl?: string, replace = false, state?) {\n    if (newUrl) this.$location.url(newUrl);\n    if (replace) this.$location.replace();\n    if (state) this.$location.state(state);\n    return this.$location.url();\n  }\n\n  _runtimeServices($rootScope, $location: ILocationService, $sniffer, $browser) {\n    this.$location = $location;\n    this.$sniffer = $sniffer;\n\n    // Bind $locationChangeSuccess to the listeners registered in LocationService.onChange\n    $rootScope.$on(\"$locationChangeSuccess\", evt => this._urlListeners.forEach(fn => fn(evt)));\n    let _loc = val($location);\n    let _browser = val($browser);\n\n    // Bind these LocationService functions to $location\n    createProxyFunctions(_loc, this, _loc, [\"replace\", \"path\", \"search\", \"hash\"]);\n    // Bind these LocationConfig functions to $location\n    createProxyFunctions(_loc, this, _loc, ['port', 'protocol', 'host']);\n    // Bind these LocationConfig functions to $browser\n    createProxyFunctions(_browser, this, _browser, ['baseHref']);\n  }\n\n  /**\n   * Applys ng1-specific path parameter encoding\n   *\n   * The Angular 1 `$location` service is a bit weird.\n   * It doesn't allow slashes to be encoded/decoded bi-directionally.\n   *\n   * See the writeup at https://github.com/angular-ui/ui-router/issues/2598\n   *\n   * This code patches the `path` parameter type so it encoded/decodes slashes as ~2F\n   *\n   * @param router\n   */\n  static monkeyPatchPathParameterType(router: UIRouter) {\n    let pathType: ParamType = router.urlMatcherFactory.type('path');\n\n    pathType.encode = (val: any) =>\n        val != null ? val.toString().replace(/(~|\\/)/g, m => ({ '~': '~~', '/': '~2F' }[m])) : val;\n\n    pathType.decode = (val: string) =>\n        val != null ? val.toString().replace(/(~~|~2F)/g, m => ({ '~~': '~', '~2F': '/' }[m])) : val;\n\n  }\n}\n","/** @module url */ /** */\nimport {\n    UIRouter, UrlRouter, LocationServices, $InjectorLike, BaseUrlRule, UrlRuleHandlerFn, UrlMatcher,\n    IInjectable\n} from \"@uirouter/core\";\nimport { services, isString, isFunction, isArray, identity } from \"@uirouter/core\";\n\nexport interface RawNg1RuleFunction {\n  ($injector: $InjectorLike, $location: LocationServices): string|void;\n}\n\n/**\n * Manages rules for client-side URL\n *\n * ### Deprecation warning:\n * This class is now considered to be an internal API\n * Use the [[UrlService]] instead.\n * For configuring URL rules, use the [[UrlRulesApi]] which can be found as [[UrlService.rules]].\n *\n * This class manages the router rules for what to do when the URL changes.\n *\n * This provider remains for backwards compatibility.\n *\n * @deprecated\n */\nexport class UrlRouterProvider {\n  /** @hidden */ _router: UIRouter;\n  /** @hidden */ _urlRouter: UrlRouter;\n\n  /** @hidden */\n  constructor(router: UIRouter) {\n    this._router = router;\n    this._urlRouter = router.urlRouter;\n  }\n\n  /** @hidden */\n  $get() {\n    let urlRouter = this._urlRouter;\n    urlRouter.update(true);\n    if (!urlRouter.interceptDeferred) urlRouter.listen();\n    return urlRouter;\n  }\n\n  /**\n   * Registers a url handler function.\n   *\n   * Registers a low level url handler (a `rule`).\n   * A rule detects specific URL patterns and returns a redirect, or performs some action.\n   *\n   * If a rule returns a string, the URL is replaced with the string, and all rules are fired again.\n   *\n   * #### Example:\n   * ```js\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   // Here's an example of how you might allow case insensitive urls\n   *   $urlRouterProvider.rule(function ($injector, $location) {\n   *     var path = $location.path(),\n   *         normalized = path.toLowerCase();\n   *\n   *     if (path !== normalized) {\n   *       return normalized;\n   *     }\n   *   });\n   * });\n   * ```\n   *\n   * @param ruleFn\n   * Handler function that takes `$injector` and `$location` services as arguments.\n   * You can use them to detect a url and return a different url as a string.\n   *\n   * @return [[UrlRouterProvider]] (`this`)\n   */\n  rule(ruleFn: RawNg1RuleFunction): UrlRouterProvider {\n    if (!isFunction(ruleFn)) throw new Error(\"'rule' must be a function\");\n\n    const match = () =>\n        ruleFn(services.$injector, this._router.locationService);\n\n    let rule = new BaseUrlRule(match, identity);\n    this._urlRouter.rule(rule);\n    return this;\n  };\n\n  /**\n   * Defines the path or behavior to use when no url can be matched.\n   *\n   * #### Example:\n   * ```js\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   // if the path doesn't match any of the urls you configured\n   *   // otherwise will take care of routing the user to the\n   *   // specified url\n   *   $urlRouterProvider.otherwise('/index');\n   *\n   *   // Example of using function rule as param\n   *   $urlRouterProvider.otherwise(function ($injector, $location) {\n   *     return '/a/valid/url';\n   *   });\n   * });\n   * ```\n   *\n   * @param rule\n   * The url path you want to redirect to or a function rule that returns the url path or performs a `$state.go()`.\n   * The function version is passed two params: `$injector` and `$location` services, and should return a url string.\n   *\n   * @return {object} `$urlRouterProvider` - `$urlRouterProvider` instance\n   */\n  otherwise(rule: string | RawNg1RuleFunction): UrlRouterProvider {\n    let urlRouter = this._urlRouter;\n\n    if (isString(rule)) {\n      urlRouter.otherwise(rule);\n    } else if (isFunction(rule)) {\n      urlRouter.otherwise(() => rule(services.$injector, this._router.locationService));\n    } else {\n      throw new Error(\"'rule' must be a string or function\");\n    }\n\n    return this;\n  };\n\n  /**\n   * Registers a handler for a given url matching.\n   *\n   * If the handler is a string, it is\n   * treated as a redirect, and is interpolated according to the syntax of match\n   * (i.e. like `String.replace()` for `RegExp`, or like a `UrlMatcher` pattern otherwise).\n   *\n   * If the handler is a function, it is injectable.\n   * It gets invoked if `$location` matches.\n   * You have the option of inject the match object as `$match`.\n   *\n   * The handler can return\n   *\n   * - **falsy** to indicate that the rule didn't match after all, then `$urlRouter`\n   *   will continue trying to find another one that matches.\n   * - **string** which is treated as a redirect and passed to `$location.url()`\n   * - **void** or any **truthy** value tells `$urlRouter` that the url was handled.\n   *\n   * #### Example:\n   * ```js\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   $urlRouterProvider.when($state.url, function ($match, $stateParams) {\n   *     if ($state.$current.navigable !== state ||\n   *         !equalForKeys($match, $stateParams) {\n   *      $state.transitionTo(state, $match, false);\n   *     }\n   *   });\n   * });\n   * ```\n   *\n   * @param what A pattern string to match, compiled as a [[UrlMatcher]].\n   * @param handler The path (or function that returns a path) that you want to redirect your user to.\n   * @param ruleCallback [optional] A callback that receives the `rule` registered with [[UrlMatcher.rule]]\n   *\n   * Note: the handler may also invoke arbitrary code, such as `$state.go()`\n   */\n  when(what: (RegExp|UrlMatcher|string), handler: string|IInjectable) {\n    if (isArray(handler) || isFunction(handler)) {\n      handler = UrlRouterProvider.injectableHandler(this._router, handler);\n    }\n\n    this._urlRouter.when(what, handler as any);\n    return this;\n  };\n\n  static injectableHandler(router: UIRouter, handler): UrlRuleHandlerFn {\n    return match =>\n        services.$injector.invoke(handler, null, { $match: match, $stateParams: router.globals.params });\n  }\n\n  /**\n   * Disables monitoring of the URL.\n   *\n   * Call this method before UI-Router has bootstrapped.\n   * It will stop UI-Router from performing the initial url sync.\n   *\n   * This can be useful to perform some asynchronous initialization before the router starts.\n   * Once the initialization is complete, call [[listen]] to tell UI-Router to start watching and synchronizing the URL.\n   *\n   * #### Example:\n   * ```js\n   * var app = angular.module('app', ['ui.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   // Prevent $urlRouter from automatically intercepting URL changes;\n   *   $urlRouterProvider.deferIntercept();\n   * })\n   *\n   * app.run(function (MyService, $urlRouter, $http) {\n   *   $http.get(\"/stuff\").then(function(resp) {\n   *     MyService.doStuff(resp.data);\n   *     $urlRouter.listen();\n   *     $urlRouter.sync();\n   *   });\n   * });\n   * ```\n   *\n   * @param defer Indicates whether to defer location change interception.\n   *        Passing no parameter is equivalent to `true`.\n   */\n  deferIntercept(defer?: boolean) {\n    this._urlRouter.deferIntercept(defer);\n  };\n}\n","/**\n * Main entry point for angular 1.x build\n * @module ng1\n */ /** */\n\nexport * from \"./interface\";\nexport * from \"./services\";\nexport * from \"./statebuilders/views\";\nexport * from \"./stateProvider\";\nexport * from \"./urlRouterProvider\";\n\nimport \"./injectables\";\nimport \"./directives/stateDirectives\";\nimport \"./stateFilters\";\nimport \"./directives/viewDirective\";\nimport \"./viewScroll\";\n\nexport default \"ui.router\";\n\nimport * as core from \"@uirouter/core\";\nexport { core };\nexport * from \"@uirouter/core\";\n\n"],"names":["fn","args","length","func_args_length","apply","curried","concat","slice","arguments","initial_args","start","i","result","this","call","_i","funcs","compose","reverse","fn1","fn2","fnName","obj","struct","x","val","isArray","head","tail","filter","not","isString","isFunction","source","target","bind","fnNames","latebind","bindFunction","makeLateRebindFn","Object","keys","reduce","acc","name","array","indexOf","idx","splice","arr","push","opts","defaultsList","_defaultsList","defaultVals","extend","pick","first","second","path","n","propNames","objCopy","prop_1","inArray","key","collection","propName","map","prop","callback","accept","forEach","item","predicateOrMap","errMsg","Error","maxArrayLen","min","Math","memo","keyValTuple","value","undefined","src","dest","cb","_this","toObj","j","o1","o2","t1","tup","all","_arraysEq","isDate","getTime","isRegExp","toString","any","b","_equals","a1","a2","arrayTuples","t","viewData","id","creationContext","fqn","input","isNumber","Category","state","criterion","_state","globStrings","toMatch","glob","Glob","matches","matchGlobs","registry","transitionService","eventType","matchObject","options","registeredHook","RegisteredHook","hooks","_deregistered","removeFrom","_registeredHooks","hookRegistrationFn","reverseDepthSort","l","r","factor","depthDelta","node","hook","priority","type","mode","isDefined","allTruthyMode","arrayWrap","arrayUnwrap","val1","val2","left","right","paramTypeFn","wrapperFn","arrayEqualsHandler","arrayHandler","dynamic","pattern","inherit","is","$arrayMode","cfg","isShorthand","getStaticDefaultValue","$$fn","isInjectable","urlType","location","paramTypes","DefType","CONFIG","PATH","SEARCH","ParamType","config","isOptional","defaultPolicy","squash","arrayMode","replace","configuredKeys","from","to","max","str","substr","camelCase","$1","toLowerCase","fnStr","fnToString","namedFunctionMatch","match","toStr","_fn","o","isObject","seen","stringifyPattern","JSON","stringify","format","delim","re","RegExp","split","identity","pushR","self","$$state","parent","data","includes","annotate","$injector","services","strictDi","isResolveLiteral","token","resolveFn","isLikeNg2Provider","provide","useValue","useFactory","useExisting","useClass","isTupleFromObj","p","literal2Resolvable","Resolvable","deps","policy","dependencies","tuple2Resolvable","pipe","tuple","item2Resolvable","decl","resolve","resolveObj","resolvePolicies","resolvePolicy","string","param","surroundPattern","url","isHtml5","absolute","baseHref","handler","TargetState","isDef","trans","addResolvable","UIRouter","router","Transition","params","entering","hookName","transition","hookFn","Array","states","stateRegistry","register","lazyLoadFn","lazyLoad","promise","success","error","err","$q","reject","when","then","updateStateRegistry","ignoredReason","_ignoredReason","trace","traceTransitionIgnored","pending","globals","abort","Rejection","ignored","toPromise","valid","orEmptyString","_a","beforehash","hash","_b","search","serviceClass","configurationClass","dispose","service","configuration","locationService","locationConfig","templateFactory","view","get","Ng1ViewConfig","tplKeys","ctrlKeys","compKeys","nonCompKeys","allViewKeys","views","hasAnyKey","join","viewsObject","$default","component","resolveAs","$type","$context","$name","normalized","ViewService","normalizeUIViewTarget","$uiViewName","uiViewName","$uiViewContextAnchor","uiViewContextAnchor","cmpDefs","getBindings","unnestR","$locationProvider","$location","$browser","$sniffer","$rootScope","$http","$templateCache","ng1LocationService","_runtimeServices","stateProvider","StateProvider","stateService","decorator","ng1ViewsBuilder","getStateHookBuilder","viewService","_pluginapi","_viewConfigFactory","getNg1ViewConfigFactory","Ng1LocationServices","monkeyPatchPathParameterType","$get","$inject","$uiRouter","resolvables","resolvable","$watch","approximateDigests","ref","parsed","paramsOnly","paramExpr","el","$uiView","inheritedData","parse","$state","$element","def","uiState","current","uiStateOpts","defaultOpts","href","uiStateParams","isSvg","prototype","isForm","nodeName","attr","isAnchor","toUpperCase","clickable","$timeout","getDef","e","button","which","ctrlKey","metaKey","shiftKey","go","preventDefault","ignorePreventDefaultCount","cancel","relative","stateContext","$current","element","scope","events","on","events_1","event_1","$on","off","events_2","event_2","isFilter","$stateful","includesFilter","$compile","$controller","$transitions","$view","getControllerAs","getResolveAs","restrict","compile","tElement","initial","html","empty","contents","$cfg","viewDecl","getTemplate","noop","resolveCtx","ResolveContext","traceUIViewFill","link","controller","controllerAs","locals","getLocals","controllerInstance","$scope","children","registerControllerCallbacks","cmp_1","kebobName","kebobString","tagRegexp_1","getComponentController","directiveEl","tagName","exec","angular","deregisterWatch_1","ctrlInstance","$onInit","hasComponentImpl","viewState","hookOptions","uiOnParamsChanged","resolveContext","viewCreationTrans_1","getResolvable","paramsUpdated","$transition$","exiting","toParams","fromParams","toSchema","treeChanges","paramSchema","fromSchema","changedToParams","equals","changedKeys_1","newValues","onSuccess","uiCanExit","id_1","_uiCanExitId","prevTruthyAnswer_1","redirectedFrom","wrappedHook","ids","criteria","onBefore","useAnchorScroll","$anchorScroll","scrollIntoView","ng_from_global","ng","ng_from_import","ng_from_import.module","propEq","curry","ctor","constructor","eq","other","v","text","regexpString","seg","regexp","test","StateObject","create","stateDecl","isStateClass","__stateObjectCache","nameGlob","fromString","root","defaults","matchingKeys","parameters","values","hasOwnProperty","parameter","find","tis","isUndefined","isNull","isNullOrUndefined","or","isState","isPromise","and","notImplemented","fnname","w","window","fromJson","toJson","copy","_copy","_forEach","assign","_extend","extra","_inArray","_removeFrom","pushTo","_pushTo","deregAll","functions","mergeR","mapObj","allTrueR","elem","anyTrueR","flattenR","uniqR","unnest","flatten","assertPredicate","assertFn","assertMap","pairs","sortBy","propFn","checkFn","a","composeSort","sortFns","prev","silenceUncaughtInPromise","catch","silentRejection","_items","_limit","Queue","items","shift","size","RejectType","message","detail","d","_transitionRejection","rejection","SUPERSEDED","redirected","superseded","INVALID","IGNORED","ABORTED","ERROR","errored","viewConfigString","viewConfig","$id","_tid","_rid","transLbl","Trace","enabled","categories","k","parseInt","isNaN","normalizedCat","category","_enabled","_set","TRANSITION","console","log","step","HOOK","event","context","functionToString","maxLength","hookResult","transitionOptions","RESOLVE","reason","finalState","UIVIEW","padString","uiViewString","traceUIViewEvent","VIEWCONFIG","TransitionHookPhase","TransitionHookScope","_identifier","_definition","_params","_options","base","stateName","defaultOptions","traceData","hookPhase","RUN","isActive","TransitionHook","defaultErrorHandler","notCurrent","getNotCurrentRejection","traceHookInvocation","normalizeErr","normalize","handleError","getErrorHandler","handleResult","getResultHandler","synchronous","handleHookResult","traceHookResult","aborted","_disposed","_aborted","isSuperseded","waitFor","createHookChainR","nextHook","invokeHook","doneCallback","remainingHooks","chain","logError","tranSvc","matchCriteria","nodes","matching","matchState","_getPathTypes","_getDefaultMatchCriteria","mn","pathtype","isStateHook","STATE","_matchingNodes","_getMatchingNodes","every","HookBuilder","phase","_getEvents","buildHooks","hookType","matchingHooks","getMatchingHooks","baseHookOptions","makeTransitionHooks","criteriaMatchPath","transitionHook","sort","tupleSort","reverseSort","isCreate","CREATE","reg","getHooks","sub","decode","isSearch","ArrayType","hasOwn","urlMatcherFactory","unwrapShorthand","getType","arrayDefaults","arrayParamNomenclature","$asArray","raw","getSquashPolicy","defaultSquashPolicy","getReplace","Param","_defaultValueCache","defaultValue","invoke","$normalize","encoded","encode","paramValues","params_1","values1","values2","changed","validates","stateOrNode","PathNode","res","clone","getParamVal","paramDef","pDef","applyPairs","paramsFn","diff","PathUtils","targetState","applyRawParams","fromPath","toPath","buildPath","inheritParams","viewDecls","subPath","viewConfigs","createViewConfig","toKeys","toNode","toParamVals","incomingParamVals","omit","fromParamVals","nodeParamVals","noInherit","ownParamVals","makeInheritedParamsNode","reloadState","retainedNode","cloned","keep","node1","node2","nonDynamicParams","retained","retainedWithToParams","applyToParams","pathA","pathB","done","nodeA","nodeB","predicate","elementIdx","defaultResolvePolicy","async","arg1","resolved","literal","thisPolicy","statePolicy","getResolvableDependencies","getDependencies","invokeResolveFn","resolvedDeps","waitForRx","observable$","cached","cache","take","findNode","maybeWaitForRx","getPolicy","applyResolvedValue","resolvedValue","traceResolvableResolved","LAZY","EAGER","WAIT","NOWAIT","RXWAIT","ALL_WHENS","EAGER_WHENS","NATIVE_INJECTOR_TOKEN","_path","newResolvables","whenOption","matchedWhens","traceResolvePath","matchesPolicy","acceptedVals","whenOrAsync","promises","nodeResolvables","nowait","wait","subContext","getResult","_injector","UIInjectorImpl","availableResolvables","getDependency","fromInjector","injector","getNative","native","stateSelf","defer","_deferred","_targetState","_transitionCount","buildToPath","_treeChanges","createTransitionHookRegFns","onCreateHooks","_hookBuilder","buildHooksForPhase","invokeHooks","applyViewConfigs","makeEvent","enteringStates","$from","$to","compare","pathname","freeze","pathName","getTokens","topath","targetNode","addResolvables","rf","originalTransition","redirects","redirectOpts","newOptions","identifier","newTransition","originalEnteringNodes","redirectEnteringNodes","tc","reload","nodeSchemas","schema","toVals","fromVals","changes","_changedParams","same","newTC","pendTC","runAllHooks","getHooksFor","transitionSuccess","traceSuccess","SUCCESS","transitionError","traceError","_error","runTransition","allRunHooks","startTransition","lastStartedTransitionId","transitionHistory","enqueue","traceTransitionStart","allBeforeHooks","BEFORE","abstract","paramDefs","invalidParams","fromStateOrName","toStateOrName","avoidEmptyHash","stringifyPatternFn","isRejection","isRejectionPromise","beforeAfterSubstr","char","ParamTypes","makeType","definition","types","defaultTypes","definitionFn","typeQueue","_flushTypeQueue","makeDefaultType","valToString","defaultTypeBase","String","query","int","bool","Boolean","date","getFullYear","getMonth","getDate","capture","Date","valueOf","json","StateParams","newParams","parentParams","parents","ancestors","inherited","inheritList","parseUrl","charAt","substring","getUrlBuilder","$urlMatcherFactoryProvider","stateDec","paramMap","paramConfig","reloadOnSearch","isMatcher","navigable","append","getNavigableBuilder","isRoot","getParamsBuilder","paramFactory","makeConfigParam","fromConfig","urlParams","nonUrlParams","matcher","parentName","builders","nameBuilder","selfBuilder","parentBuilder","dataBuilder","pathBuilder","includesBuilder","resolvablesBuilder","StateBuilder","parentFn","segments","pop","_states","StateMatcher","stateOrName","matchGlob","isStr","isRelative","resolvePath","baseState","splitName","pathLength","relName","$registry","$urlRouter","builder","listeners","queue","StateQueueManager","flush","registered","orphans","previousQueueLength","getState","name_1","build","orphanIdx","existingState","existingFutureState","deregister","attachRoute","listener","s","rule","urlRuleFactory","_router","stateQueue","urlRouter","_registerRoot","StateRegistry","rootStateDef","#","_root","stateDefinition","getChildren","deregistered","$ur","rules","removeRule","deregisteredStates","_deregisterTree","found","func","memoizeTo","splitOnSlash","splitOnDelim","strict","caseInsensitive","m","segment","placeholder","searchPlaceholder","last","patterns","checkParamErrors","UrlMatcher","nameValidator","matchDetails","index","_segments","lastIndex","fromSearch","_compiled","quoteRegExp","_children","_cache","allParams","pathParams","searchParams","nPathSegments","urlm","reverseString","unquoteDashes","validParamVal","isValid","isDefaultValue","urlMatchers","pathSegmentsAndParams","getDetails","queryParams","isInvalid","pathString","encodeDashes","encodeURIComponent","queryString","paramDetails","c","charCodeAt","cmp","joinNeighborsR","weights","_isStrictMode","_isCaseInsensitive","UrlMatcherFactory","_defaultSquashPolicy","_getConfig","object","UrlRuleFactory","what","makeRule","_what","fromUrlMatcher","fromState","fromRegExp","BaseUrlRule","urlMatcher","optional","_handler","details","matchPriority","transitionTo","global","sticky","redirectUrlTo","Number","defaultRuleSortFn","getMatcher","URLMATCHER","REGEXP","RAW","OTHER","createProxyFunctions","UrlRouter","listen","_rules","_otherwiseFn","compareFn","_sortFn","_sorted","ensureSorted","best","weight","evt","defaultPrevented","$url","urlService","newurl","_stopFn","onChange","sync","read","html5Mode","hashPrefix","appendBasePath","slash","port","protocol","host","isUrlRule","_id","handlerFn","getHandlerFn","matchFn","urlParts","interceptDeferred","_rootViewContext","_registeredUIViews","_uiViews","_activeViewConfigs","_viewConfigs","_rootContext","viewType","factory","_viewConfigFactories","cfgFactory","cfgs","traceViewServiceEvent","uiView","stateDepth","count","uiViewsByFqn","uiv","depthCompare","depthFn","posNeg","matchingConfigPair","matchingConfigs","viewConfigDepth","configureUIView","configUpdated","uiViewDepth","traceViewServiceUIViewEvent","uiViews","fqnMatches","rawViewName","viewAtContext","relativeViewNameSugar","anchor","vc","vcSegments","uivSegments","negOffset","fqnToFirstSegment","uiViewContext","UIRouterGlobals","clear","successfulTransitions","makeStub","locationServicesFns","locationConfigFns","umfFns","rulesFns","syncFns","lateBind","locationServices","umf","UrlService","_routerInstance","locationServiceStub","locationConfigStub","TransitionService","StateService","disposable","_disposables","plugin","pluginInstance","_plugins","pluginName","registerAddCoreResolvables","onCreate","addCoreResolvables","redirectToHook","redirect","redirectTo","registerRedirectToHook","onStart","onExitHook","makeEnterExitRetainHook","registerOnExitHook","onExit","onRetainHook","registerOnRetainHook","onRetain","onEnterHook","registerOnEnterHook","onEnter","eagerResolvePath","registerEagerResolvePath","lazyResolveState","registerLazyResolveState","loadEnteringViews","enteringViews","load","registerLoadEnteringViews","onFinish","activateViews","exitingViews","deactivateViewConfig","activateViewConfig","registerActivateViews","updateGlobalState","transitionSuccessful","clearCurrentTransition","registerUpdateGlobalState","updateUrl","urlOptions","update","registerUpdateUrl","lazyLoadHook","orig","parts","lazyLoadState","retryTransition","registerLazyLoadHook","hookOrder","HANDLE_RESULT","REJECT_ERROR","registerIgnoredTransitionHook","ignoredHook","registerInvalidTransitionHook","invalidTransitionHook","defaultTransOpts","notify","custom","_deregisterHookFns","_defineCorePaths","_defineCoreEvents","_registerCoreTransitionHooks","hooksArray","Phase","TH","paths","_criteriaPaths","_defineEvent","LOG_REJECTED_RESULT","THROW_ERROR","LOG_ERROR","_definePathType","TransitionEventType","_eventTypes","cmpByPhase","hookScope","fns","addCoreResolves","invalid","eagerResolve","lazyResolve","loadViews","updateGlobals","$error$","stack","getters","boundFns","invalidCallbacks","toState","nextCallback","callbackQueue","dequeue","checkForRedirect","invokeNextCallback","makeTargetState","latestThing","peekTail","latest","defautGoOpts","transOpts","latestSuccess","currentPath","getCurrentPath","exists","_handleInvalidTargetState","rejectedTransitionHandler","isLatest","run","transitionToPromise","include","lossy","$inherit","nav","_defaultErrorHandler","Promise","deferred","has","ensureExist","splitHash","splitQuery","splitEqual","trimHashVal","keyValsToObjectR","accum","getParams","buildUrl","loc","searchObject","fireAfterUpdate","_listeners","_get","_location","_history","history","BaseLocationServices","evt_1","Event","_super","addEventListener","_listener","__extends","HashLocationService","title","removeEventListener","MemoryLocationService","_url","_config","PushStateLocationService","fullUrl","replaceState","pushState","_port","_protocol","_host","_baseHref","newval","_hashPrefix","_isHtml5","BrowserLocationConfig","newprefix","applyDocumentBaseHref","baseTags","document","getElementsByTagName","origin","hashLocationPlugin","locationPluginFactory","pushStateLocationPlugin","memoryLocationPlugin","MemoryLocationConfig","UIRouterPluginBase","makeComponentTemplate","bindings","template","getController","results","provider","controllerProvider","providerFn","version","minor","$templateRequest","TemplateFactory","_useHttp","asTemplate","asComponent","templateUrl","fromUrl","templateProvider","fromProvider","componentProvider","fromComponentProvider","headers","Accept","response","prefix","kebob","kebobed","attributeTpl","attrName","resolveName","attrs","getComponentBindings","scopeBindings","bindToController","bindingsObj","onInvalid","$state$","decoratedNg1Hook","_lp","_urlListeners","newUrl","_loc","_browser","pathType","~","/","~~","~2F","_urlRouter","UrlRouterProvider","ruleFn","otherwise","injectableHandler","$match","$stateParams","deferIntercept","module","mod_init","mod_util","mod_rtr","mod_state","mod_main","getProviderFor","serviceName","$urp","runBlock","getUrlRouterProvider","uiRouter","urlRouterProvider","getStateProvider","watchDigests","$urlMatcherFactory","uiSref","ctx","require","uiSrefActive","unlinkInfoFn","active","$$addStateInfo","$set","getTypeInfo","rawDef","processedDef","parseStateRef","uiSrefOpts","$eval","onStatesChanged","clickHook","bindEvents","inputAttrs","watchDeregFns","field","$observe","expr","$interpolate","$attrs","stateParams","activeClass","stateInfo","splitClasses","getClasses","stateList","allClasses","activeEqClass","fuzzyClasses","exactlyMatchesAny","exactClasses","addClasses","removeClasses","cls","$evalAsync","className","addClass","removeClass","uiSrefActiveEq","addState","newState","updateAfterTransition","directive","$IsStateFilter","$IncludedByStateFilter","$animate","$uiViewScroll","enter","leave","config1","config2","rootData","terminal","transclude","tAttrs","$transclude","configsEqual","traceUIViewConfigUpdated","activeUIView","updateView","previousEl","remove","currentScope","$destroy","currentEl","_viewData_1","renderer","$$animLeave","newScope","$new","animEnter","animLeave","$uiViewData","$uiViewAnim","$animEnter","$animLeave","$emit","autoScrollExp","cleanupLastView","onloadExp","unregister","getRenderer","configUpdatedCallback","fromParentTagConfig","fromParentTag","registerUIView","$ViewDirectiveFill","$ViewScrollProvider"],"mappings":"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"}